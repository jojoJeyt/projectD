parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"Z5df":[function(require,module,exports) {
var r={}.toString;module.exports=function(t){return r.call(t).slice(8,-1)};
},{}],"5qf4":[function(require,module,exports) {

var e=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e);
},{}],"6zGc":[function(require,module,exports) {

var r=require("./_global"),e="__core-js_shared__",_=r[e]||(r[e]={});module.exports=function(r){return _[r]||(_[r]={})};
},{"./_global":"5qf4"}],"U49f":[function(require,module,exports) {
var o=0,t=Math.random();module.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++o+t).toString(36))};
},{}],"44AI":[function(require,module,exports) {
var e=require("./_shared")("wks"),r=require("./_uid"),o=require("./_global").Symbol,u="function"==typeof o,i=module.exports=function(i){return e[i]||(e[i]=u&&o[i]||(u?o:r)("Symbol."+i))};i.store=e;
},{"./_shared":"6zGc","./_uid":"U49f","./_global":"5qf4"}],"GM7B":[function(require,module,exports) {
var e=require("./_cof"),t=require("./_wks")("toStringTag"),n="Arguments"==e(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(n){}};module.exports=function(u){var o,c,i;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(c=r(o=Object(u),t))?c:n?e(o):"Object"==(i=e(o))&&"function"==typeof o.callee?"Arguments":i};
},{"./_cof":"Z5df","./_wks":"44AI"}],"M7z6":[function(require,module,exports) {
module.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o};
},{}],"eT53":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":"M7z6"}],"5BXi":[function(require,module,exports) {
module.exports=function(r){try{return!!r()}catch(t){return!0}};
},{}],"P9Ib":[function(require,module,exports) {
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":"5BXi"}],"/vZ6":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_global").document,t=e(r)&&e(r.createElement);module.exports=function(e){return t?r.createElement(e):{}};
},{"./_is-object":"M7z6","./_global":"5qf4"}],"/o6G":[function(require,module,exports) {
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":"P9Ib","./_fails":"5BXi","./_dom-create":"/vZ6"}],"9y37":[function(require,module,exports) {
var t=require("./_is-object");module.exports=function(r,e){if(!t(r))return r;var o,n;if(e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;if("function"==typeof(o=r.valueOf)&&!t(n=o.call(r)))return n;if(!e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":"M7z6"}],"nw8e":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_ie8-dom-define"),t=require("./_to-primitive"),i=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(o,n,u){if(e(o),n=t(n,!0),e(u),r)try{return i(o,n,u)}catch(c){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(o[n]=u.value),o};
},{"./_an-object":"eT53","./_ie8-dom-define":"/o6G","./_to-primitive":"9y37","./_descriptors":"P9Ib"}],"uJ6d":[function(require,module,exports) {
module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};
},{}],"0NXb":[function(require,module,exports) {
var r=require("./_object-dp"),e=require("./_property-desc");module.exports=require("./_descriptors")?function(t,u,o){return r.f(t,u,e(1,o))}:function(r,e,t){return r[e]=t,r};
},{"./_object-dp":"nw8e","./_property-desc":"uJ6d","./_descriptors":"P9Ib"}],"2uHg":[function(require,module,exports) {
var r={}.hasOwnProperty;module.exports=function(e,n){return r.call(e,n)};
},{}],"ss9A":[function(require,module,exports) {
var e=module.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e);
},{}],"PHot":[function(require,module,exports) {

var e=require("./_global"),r=require("./_hide"),t=require("./_has"),i=require("./_uid")("src"),n="toString",o=Function[n],u=(""+o).split(n);require("./_core").inspectSource=function(e){return o.call(e)},(module.exports=function(n,o,c,l){var a="function"==typeof c;a&&(t(c,"name")||r(c,"name",o)),n[o]!==c&&(a&&(t(c,i)||r(c,i,n[o]?""+n[o]:u.join(String(o)))),n===e?n[o]=c:l?n[o]?n[o]=c:r(n,o,c):(delete n[o],r(n,o,c)))})(Function.prototype,n,function(){return"function"==typeof this&&this[i]||o.call(this)});
},{"./_global":"5qf4","./_hide":"0NXb","./_has":"2uHg","./_uid":"U49f","./_core":"ss9A"}],"4zTK":[function(require,module,exports) {
"use strict";var e=require("./_classof"),r={};r[require("./_wks")("toStringTag")]="z",r+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0);
},{"./_classof":"GM7B","./_wks":"44AI","./_redefine":"PHot"}],"yjVO":[function(require,module,exports) {
var o=Math.ceil,r=Math.floor;module.exports=function(t){return isNaN(t=+t)?0:(t>0?r:o)(t)};
},{}],"+Bjj":[function(require,module,exports) {
module.exports=function(o){if(null==o)throw TypeError("Can't call method on  "+o);return o};
},{}],"x5yM":[function(require,module,exports) {
var e=require("./_to-integer"),r=require("./_defined");module.exports=function(t){return function(n,i){var o,u,c=String(r(n)),d=e(i),a=c.length;return d<0||d>=a?t?"":void 0:(o=c.charCodeAt(d))<55296||o>56319||d+1===a||(u=c.charCodeAt(d+1))<56320||u>57343?t?c.charAt(d):o:t?c.slice(d,d+2):u-56320+(o-55296<<10)+65536}};
},{"./_to-integer":"yjVO","./_defined":"+Bjj"}],"H21C":[function(require,module,exports) {
module.exports=!1;
},{}],"6kYj":[function(require,module,exports) {
module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o};
},{}],"E3Kh":[function(require,module,exports) {
var r=require("./_a-function");module.exports=function(n,t,u){if(r(n),void 0===t)return n;switch(u){case 1:return function(r){return n.call(t,r)};case 2:return function(r,u){return n.call(t,r,u)};case 3:return function(r,u,e){return n.call(t,r,u,e)}}return function(){return n.apply(t,arguments)}};
},{"./_a-function":"6kYj"}],"izCb":[function(require,module,exports) {

var e=require("./_global"),r=require("./_core"),o=require("./_hide"),i=require("./_redefine"),u=require("./_ctx"),n="prototype",t=function(c,f,l){var q,_,a,d,p=c&t.F,v=c&t.G,F=c&t.S,x=c&t.P,y=c&t.B,B=v?e:F?e[f]||(e[f]={}):(e[f]||{})[n],G=v?r:r[f]||(r[f]={}),P=G[n]||(G[n]={});for(q in v&&(l=f),l)a=((_=!p&&B&&void 0!==B[q])?B:l)[q],d=y&&_?u(a,e):x&&"function"==typeof a?u(Function.call,a):a,B&&i(B,q,a,c&t.U),G[q]!=a&&o(G,q,d),x&&P[q]!=a&&(P[q]=a)};e.core=r,t.F=1,t.G=2,t.S=4,t.P=8,t.B=16,t.W=32,t.U=64,t.R=128,module.exports=t;
},{"./_global":"5qf4","./_core":"ss9A","./_hide":"0NXb","./_redefine":"PHot","./_ctx":"E3Kh"}],"JO4d":[function(require,module,exports) {
module.exports={};
},{}],"nGau":[function(require,module,exports) {
var e=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(r){return"String"==e(r)?r.split(""):Object(r)};
},{"./_cof":"Z5df"}],"g6sb":[function(require,module,exports) {
var e=require("./_iobject"),r=require("./_defined");module.exports=function(i){return e(r(i))};
},{"./_iobject":"nGau","./_defined":"+Bjj"}],"dJBs":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.min;module.exports=function(t){return t>0?r(e(t),9007199254740991):0};
},{"./_to-integer":"yjVO"}],"vfEH":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.max,t=Math.min;module.exports=function(n,a){return(n=e(n))<0?r(n+a,0):t(n,a)};
},{"./_to-integer":"yjVO"}],"4Ca7":[function(require,module,exports) {
var e=require("./_to-iobject"),r=require("./_to-length"),t=require("./_to-absolute-index");module.exports=function(n){return function(i,o,u){var f,l=e(i),a=r(l.length),c=t(u,a);if(n&&o!=o){for(;a>c;)if((f=l[c++])!=f)return!0}else for(;a>c;c++)if((n||c in l)&&l[c]===o)return n||c||0;return!n&&-1}};
},{"./_to-iobject":"g6sb","./_to-length":"dJBs","./_to-absolute-index":"vfEH"}],"NaGB":[function(require,module,exports) {
var e=require("./_shared")("keys"),r=require("./_uid");module.exports=function(u){return e[u]||(e[u]=r(u))};
},{"./_shared":"6zGc","./_uid":"U49f"}],"vL0Z":[function(require,module,exports) {
var r=require("./_has"),e=require("./_to-iobject"),u=require("./_array-includes")(!1),i=require("./_shared-key")("IE_PROTO");module.exports=function(o,a){var n,s=e(o),t=0,h=[];for(n in s)n!=i&&r(s,n)&&h.push(n);for(;a.length>t;)r(s,n=a[t++])&&(~u(h,n)||h.push(n));return h};
},{"./_has":"2uHg","./_to-iobject":"g6sb","./_array-includes":"4Ca7","./_shared-key":"NaGB"}],"9bbv":[function(require,module,exports) {
module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
},{}],"U9a7":[function(require,module,exports) {
var e=require("./_object-keys-internal"),r=require("./_enum-bug-keys");module.exports=Object.keys||function(u){return e(u,r)};
},{"./_object-keys-internal":"vL0Z","./_enum-bug-keys":"9bbv"}],"MiMz":[function(require,module,exports) {
var e=require("./_object-dp"),r=require("./_an-object"),t=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(o,i){r(o);for(var u,c=t(i),n=c.length,s=0;n>s;)e.f(o,u=c[s++],i[u]);return o};
},{"./_object-dp":"nw8e","./_an-object":"eT53","./_object-keys":"U9a7","./_descriptors":"P9Ib"}],"xj/b":[function(require,module,exports) {
var e=require("./_global").document;module.exports=e&&e.documentElement;
},{"./_global":"5qf4"}],"sYaK":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_object-dps"),t=require("./_enum-bug-keys"),n=require("./_shared-key")("IE_PROTO"),o=function(){},i="prototype",u=function(){var e,r=require("./_dom-create")("iframe"),n=t.length;for(r.style.display="none",require("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[i][t[n]];return u()};module.exports=Object.create||function(t,c){var a;return null!==t?(o[i]=e(t),a=new o,o[i]=null,a[n]=t):a=u(),void 0===c?a:r(a,c)};
},{"./_an-object":"eT53","./_object-dps":"MiMz","./_enum-bug-keys":"9bbv","./_shared-key":"NaGB","./_dom-create":"/vZ6","./_html":"xj/b"}],"rq3q":[function(require,module,exports) {
var e=require("./_object-dp").f,r=require("./_has"),o=require("./_wks")("toStringTag");module.exports=function(t,u,i){t&&!r(t=i?t:t.prototype,o)&&e(t,o,{configurable:!0,value:u})};
},{"./_object-dp":"nw8e","./_has":"2uHg","./_wks":"44AI"}],"ebgP":[function(require,module,exports) {
"use strict";var e=require("./_object-create"),r=require("./_property-desc"),t=require("./_set-to-string-tag"),i={};require("./_hide")(i,require("./_wks")("iterator"),function(){return this}),module.exports=function(o,u,s){o.prototype=e(i,{next:r(1,s)}),t(o,u+" Iterator")};
},{"./_object-create":"sYaK","./_property-desc":"uJ6d","./_set-to-string-tag":"rq3q","./_hide":"0NXb","./_wks":"44AI"}],"rfVX":[function(require,module,exports) {
var e=require("./_defined");module.exports=function(r){return Object(e(r))};
},{"./_defined":"+Bjj"}],"8q6y":[function(require,module,exports) {
var t=require("./_has"),e=require("./_to-object"),o=require("./_shared-key")("IE_PROTO"),r=Object.prototype;module.exports=Object.getPrototypeOf||function(c){return c=e(c),t(c,o)?c[o]:"function"==typeof c.constructor&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?r:null};
},{"./_has":"2uHg","./_to-object":"rfVX","./_shared-key":"NaGB"}],"mH0U":[function(require,module,exports) {
"use strict";var e=require("./_library"),r=require("./_export"),t=require("./_redefine"),i=require("./_hide"),n=require("./_has"),u=require("./_iterators"),s=require("./_iter-create"),o=require("./_set-to-string-tag"),a=require("./_object-gpo"),c=require("./_wks")("iterator"),f=!([].keys&&"next"in[].keys()),q="@@iterator",_="keys",l="values",y=function(){return this};module.exports=function(h,p,k,v,w,d,x){s(k,p,v);var b,g,j,m=function(e){if(!f&&e in O)return O[e];switch(e){case _:case l:return function(){return new k(this,e)}}return function(){return new k(this,e)}},A=p+" Iterator",F=w==l,I=!1,O=h.prototype,P=O[c]||O[q]||w&&O[w],z=!f&&P||m(w),B=w?F?m("entries"):z:void 0,C="Array"==p&&O.entries||P;if(C&&(j=a(C.call(new h)))!==Object.prototype&&j.next&&(o(j,A,!0),e||n(j,c)||i(j,c,y)),F&&P&&P.name!==l&&(I=!0,z=function(){return P.call(this)}),e&&!x||!f&&!I&&O[c]||i(O,c,z),u[p]=z,u[A]=y,w)if(b={values:F?z:m(l),keys:d?z:m(_),entries:B},x)for(g in b)g in O||t(O,g,b[g]);else r(r.P+r.F*(f||I),p,b);return b};
},{"./_library":"H21C","./_export":"izCb","./_redefine":"PHot","./_hide":"0NXb","./_has":"2uHg","./_iterators":"JO4d","./_iter-create":"ebgP","./_set-to-string-tag":"rq3q","./_object-gpo":"8q6y","./_wks":"44AI"}],"tbKg":[function(require,module,exports) {
"use strict";var i=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(i){this._t=String(i),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})});
},{"./_string-at":"x5yM","./_iter-define":"mH0U"}],"Z7e/":[function(require,module,exports) {
var e=require("./_wks")("unscopables"),r=Array.prototype;null==r[e]&&require("./_hide")(r,e,{}),module.exports=function(o){r[e][o]=!0};
},{"./_wks":"44AI","./_hide":"0NXb"}],"x8b3":[function(require,module,exports) {
module.exports=function(e,n){return{value:n,done:!!e}};
},{}],"6w+v":[function(require,module,exports) {
"use strict";var e=require("./_add-to-unscopables"),r=require("./_iter-step"),t=require("./_iterators"),i=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(e,r){this._t=i(e),this._i=0,this._k=r},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),t.Arguments=t.Array,e("keys"),e("values"),e("entries");
},{"./_add-to-unscopables":"Z7e/","./_iter-step":"x8b3","./_iterators":"JO4d","./_to-iobject":"g6sb","./_iter-define":"mH0U"}],"v6Aj":[function(require,module,exports) {

for(var e=require("./es6.array.iterator"),t=require("./_object-keys"),i=require("./_redefine"),r=require("./_global"),s=require("./_hide"),L=require("./_iterators"),a=require("./_wks"),o=a("iterator"),l=a("toStringTag"),S=L.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},u=t(n),T=0;T<u.length;T++){var c,g=u[T],M=n[g],y=r[g],f=y&&y.prototype;if(f&&(f[o]||s(f,o,S),f[l]||s(f,l,g),L[g]=S,M))for(c in e)f[c]||i(f,c,e[c],!0)}
},{"./es6.array.iterator":"6w+v","./_object-keys":"U9a7","./_redefine":"PHot","./_global":"5qf4","./_hide":"0NXb","./_iterators":"JO4d","./_wks":"44AI"}],"yJTF":[function(require,module,exports) {
module.exports=function(o,n,r,i){if(!(o instanceof n)||void 0!==i&&i in o)throw TypeError(r+": incorrect invocation!");return o};
},{}],"RnO+":[function(require,module,exports) {
var r=require("./_an-object");module.exports=function(t,e,o,a){try{return a?e(r(o)[0],o[1]):e(o)}catch(n){var c=t.return;throw void 0!==c&&r(c.call(t)),n}};
},{"./_an-object":"eT53"}],"0B0p":[function(require,module,exports) {
var r=require("./_iterators"),e=require("./_wks")("iterator"),t=Array.prototype;module.exports=function(o){return void 0!==o&&(r.Array===o||t[e]===o)};
},{"./_iterators":"JO4d","./_wks":"44AI"}],"ia+4":[function(require,module,exports) {
var r=require("./_classof"),e=require("./_wks")("iterator"),t=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(o){if(null!=o)return o[e]||o["@@iterator"]||t[r(o)]};
},{"./_classof":"GM7B","./_wks":"44AI","./_iterators":"JO4d","./_core":"ss9A"}],"Abke":[function(require,module,exports) {
var e=require("./_ctx"),r=require("./_iter-call"),t=require("./_is-array-iter"),i=require("./_an-object"),o=require("./_to-length"),n=require("./core.get-iterator-method"),u={},a={},f=module.exports=function(f,l,c,q,_){var h,s,d,g,p=_?function(){return f}:n(f),v=e(c,q,l?2:1),x=0;if("function"!=typeof p)throw TypeError(f+" is not iterable!");if(t(p)){for(h=o(f.length);h>x;x++)if((g=l?v(i(s=f[x])[0],s[1]):v(f[x]))===u||g===a)return g}else for(d=p.call(f);!(s=d.next()).done;)if((g=r(d,v,s.value,l))===u||g===a)return g};f.BREAK=u,f.RETURN=a;
},{"./_ctx":"E3Kh","./_iter-call":"RnO+","./_is-array-iter":"0B0p","./_an-object":"eT53","./_to-length":"dJBs","./core.get-iterator-method":"ia+4"}],"Ex+G":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_a-function"),u=require("./_wks")("species");module.exports=function(n,o){var i,t=r(n).constructor;return void 0===t||null==(i=r(t)[u])?o:e(i)};
},{"./_an-object":"eT53","./_a-function":"6kYj","./_wks":"44AI"}],"xcbV":[function(require,module,exports) {
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3])}return e.apply(l,r)};
},{}],"KY9y":[function(require,module,exports) {


var e,t,n,i=require("./_ctx"),o=require("./_invoke"),r=require("./_html"),s=require("./_dom-create"),a=require("./_global"),c=a.process,u=a.setImmediate,p=a.clearImmediate,f=a.MessageChannel,l=a.Dispatch,d=0,m={},h="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){g.call(e.data)};u&&p||(u=function(t){for(var n=[],i=1;arguments.length>i;)n.push(arguments[i++]);return m[++d]=function(){o("function"==typeof t?t:Function(t),n)},e(d),d},p=function(e){delete m[e]},"process"==require("./_cof")(c)?e=function(e){c.nextTick(i(g,e,1))}:l&&l.now?e=function(e){l.now(i(g,e,1))}:f?(n=(t=new f).port2,t.port1.onmessage=v,e=i(n.postMessage,n,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(e){a.postMessage(e+"","*")},a.addEventListener("message",v,!1)):e=h in s("script")?function(e){r.appendChild(s("script"))[h]=function(){r.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),module.exports={set:u,clear:p};
},{"./_ctx":"E3Kh","./_invoke":"xcbV","./_html":"xj/b","./_dom-create":"/vZ6","./_global":"5qf4","./_cof":"Z5df"}],"sFAp":[function(require,module,exports) {


var e=require("./_global"),t=require("./_task").set,r=e.MutationObserver||e.WebKitMutationObserver,n=e.process,o=e.Promise,a="process"==require("./_cof")(n);module.exports=function(){var i,c,s,v=function(){var e,t;for(a&&(e=n.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(r){throw i?s():c=void 0,r}}c=void 0,e&&e.enter()};if(a)s=function(){n.nextTick(v)};else if(!r||e.navigator&&e.navigator.standalone)if(o&&o.resolve){var u=o.resolve();s=function(){u.then(v)}}else s=function(){t.call(e,v)};else{var f=!0,l=document.createTextNode("");new r(v).observe(l,{characterData:!0}),s=function(){l.data=f=!f}}return function(e){var t={fn:e,next:void 0};c&&(c.next=t),i||(i=t,s()),c=t}};
},{"./_global":"5qf4","./_task":"KY9y","./_cof":"Z5df"}],"L7XN":[function(require,module,exports) {
"use strict";var r=require("./_a-function");function e(e){var o,t;this.promise=new e(function(r,e){if(void 0!==o||void 0!==t)throw TypeError("Bad Promise constructor");o=r,t=e}),this.resolve=r(o),this.reject=r(t)}module.exports.f=function(r){return new e(r)};
},{"./_a-function":"6kYj"}],"tyG8":[function(require,module,exports) {
module.exports=function(e){try{return{e:!1,v:e()}}catch(r){return{e:!0,v:r}}};
},{}],"cNG8":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_is-object"),i=require("./_new-promise-capability");module.exports=function(o,t){if(r(o),e(t)&&t.constructor===o)return t;var u=i.f(o);return(0,u.resolve)(t),u.promise};
},{"./_an-object":"eT53","./_is-object":"M7z6","./_new-promise-capability":"L7XN"}],"J0Tl":[function(require,module,exports) {
var r=require("./_redefine");module.exports=function(e,n,i){for(var o in n)r(e,o,n[o],i);return e};
},{"./_redefine":"PHot"}],"5h4d":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_object-dp"),i=require("./_descriptors"),t=require("./_wks")("species");module.exports=function(u){var s=e[u];i&&s&&!s[t]&&r.f(s,t,{configurable:!0,get:function(){return this}})};
},{"./_global":"5qf4","./_object-dp":"nw8e","./_descriptors":"P9Ib","./_wks":"44AI"}],"md62":[function(require,module,exports) {
var r=require("./_wks")("iterator"),t=!1;try{var n=[7][r]();n.return=function(){t=!0},Array.from(n,function(){throw 2})}catch(e){}module.exports=function(n,u){if(!u&&!t)return!1;var o=!1;try{var c=[7],a=c[r]();a.next=function(){return{done:o=!0}},c[r]=function(){return a},n(c)}catch(e){}return o};
},{"./_wks":"44AI"}],"Pjta":[function(require,module,exports) {


"use strict";var e,r,t,i,n=require("./_library"),o=require("./_global"),c=require("./_ctx"),s=require("./_classof"),u=require("./_export"),a=require("./_is-object"),_=require("./_a-function"),h=require("./_an-instance"),f=require("./_for-of"),l=require("./_species-constructor"),v=require("./_task").set,p=require("./_microtask")(),d=require("./_new-promise-capability"),m=require("./_perform"),q=require("./_promise-resolve"),y="Promise",j=o.TypeError,w=o.process,b=o[y],g="process"==s(w),k=function(){},P=r=d.f,F=!!function(){try{var e=b.resolve(1),r=(e.constructor={})[require("./_wks")("species")]=function(e){e(k,k)};return(g||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof r}catch(t){}}(),x=function(e){var r;return!(!a(e)||"function"!=typeof(r=e.then))&&r},S=function(e,r){if(!e._n){e._n=!0;var t=e._c;p(function(){for(var i=e._v,n=1==e._s,o=0,c=function(r){var t,o,c=n?r.ok:r.fail,s=r.resolve,u=r.reject,a=r.domain;try{c?(n||(2==e._h&&G(e),e._h=1),!0===c?t=i:(a&&a.enter(),t=c(i),a&&a.exit()),t===r.promise?u(j("Promise-chain cycle")):(o=x(t))?o.call(t,s,u):s(t)):u(i)}catch(_){u(_)}};t.length>o;)c(t[o++]);e._c=[],e._n=!1,r&&!e._h&&E(e)})}},E=function(e){v.call(o,function(){var r,t,i,n=e._v,c=R(e);if(c&&(r=m(function(){g?w.emit("unhandledRejection",n,e):(t=o.onunhandledrejection)?t({promise:e,reason:n}):(i=o.console)&&i.error&&i.error("Unhandled promise rejection",n)}),e._h=g||R(e)?2:1),e._a=void 0,c&&r.e)throw r.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},G=function(e){v.call(o,function(){var r;g?w.emit("rejectionHandled",e):(r=o.onrejectionhandled)&&r({promise:e,reason:e._v})})},H=function(e){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=e,r._s=2,r._a||(r._a=r._c.slice()),S(r,!0))},T=function(e){var r,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw j("Promise can't be resolved itself");(r=x(e))?p(function(){var i={_w:t,_d:!1};try{r.call(e,c(T,i,1),c(H,i,1))}catch(n){H.call(i,n)}}):(t._v=e,t._s=1,S(t,!1))}catch(i){H.call({_w:t,_d:!1},i)}}};F||(b=function(r){h(this,b,y,"_h"),_(r),e.call(this);try{r(c(T,this,1),c(H,this,1))}catch(t){H.call(this,t)}},(e=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=require("./_redefine-all")(b.prototype,{then:function(e,r){var t=P(l(this,b));return t.ok="function"!=typeof e||e,t.fail="function"==typeof r&&r,t.domain=g?w.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&S(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),t=function(){var r=new e;this.promise=r,this.resolve=c(T,r,1),this.reject=c(H,r,1)},d.f=P=function(e){return e===b||e===i?new t(e):r(e)}),u(u.G+u.W+u.F*!F,{Promise:b}),require("./_set-to-string-tag")(b,y),require("./_set-species")(y),i=require("./_core")[y],u(u.S+u.F*!F,y,{reject:function(e){var r=P(this);return(0,r.reject)(e),r.promise}}),u(u.S+u.F*(n||!F),y,{resolve:function(e){return q(n&&this===i?b:this,e)}}),u(u.S+u.F*!(F&&require("./_iter-detect")(function(e){b.all(e).catch(k)})),y,{all:function(e){var r=this,t=P(r),i=t.resolve,n=t.reject,o=m(function(){var t=[],o=0,c=1;f(e,!1,function(e){var s=o++,u=!1;t.push(void 0),c++,r.resolve(e).then(function(e){u||(u=!0,t[s]=e,--c||i(t))},n)}),--c||i(t)});return o.e&&n(o.v),t.promise},race:function(e){var r=this,t=P(r),i=t.reject,n=m(function(){f(e,!1,function(e){r.resolve(e).then(t.resolve,i)})});return n.e&&i(n.v),t.promise}});
},{"./_library":"H21C","./_global":"5qf4","./_ctx":"E3Kh","./_classof":"GM7B","./_export":"izCb","./_is-object":"M7z6","./_a-function":"6kYj","./_an-instance":"yJTF","./_for-of":"Abke","./_species-constructor":"Ex+G","./_task":"KY9y","./_microtask":"sFAp","./_new-promise-capability":"L7XN","./_perform":"tyG8","./_promise-resolve":"cNG8","./_wks":"44AI","./_redefine-all":"J0Tl","./_set-to-string-tag":"rq3q","./_set-species":"5h4d","./_core":"ss9A","./_iter-detect":"md62"}],"uTu+":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.promise"),module.exports=require("../modules/_core").Promise;
},{"../modules/es6.object.to-string":"4zTK","../modules/es6.string.iterator":"tbKg","../modules/web.dom.iterable":"v6Aj","../modules/es6.promise":"Pjta","../modules/_core":"ss9A"}],"l1j0":[function(require,module,exports) {

"use strict";var r=require("./_export"),e=require("./_core"),t=require("./_global"),n=require("./_species-constructor"),i=require("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(r){var o=n(this,e.Promise||t.Promise),u="function"==typeof r;return this.then(u?function(e){return i(o,r()).then(function(){return e})}:r,u?function(e){return i(o,r()).then(function(){throw e})}:r)}});
},{"./_export":"izCb","./_core":"ss9A","./_global":"5qf4","./_species-constructor":"Ex+G","./_promise-resolve":"cNG8"}],"Worb":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_new-promise-capability"),i=require("./_perform");r(r.S,"Promise",{try:function(r){var t=e.f(this),o=i(r);return(o.e?t.reject:t.resolve)(o.v),t.promise}});
},{"./_export":"izCb","./_new-promise-capability":"L7XN","./_perform":"tyG8"}],"Jonh":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.promise"),require("../modules/es7.promise.finally"),require("../modules/es7.promise.try"),module.exports=require("../modules/_core").Promise;
},{"../modules/es6.object.to-string":"4zTK","../modules/es6.string.iterator":"tbKg","../modules/web.dom.iterable":"v6Aj","../modules/es6.promise":"Pjta","../modules/es7.promise.finally":"l1j0","../modules/es7.promise.try":"Worb","../modules/_core":"ss9A"}],"EWMd":[function(require,module,exports) {
exports.f=Object.getOwnPropertySymbols;
},{}],"vjRp":[function(require,module,exports) {
exports.f={}.propertyIsEnumerable;
},{}],"e3Bp":[function(require,module,exports) {
"use strict";var e=require("./_object-keys"),r=require("./_object-gops"),t=require("./_object-pie"),o=require("./_to-object"),i=require("./_iobject"),c=Object.assign;module.exports=!c||require("./_fails")(function(){var e={},r={},t=Symbol(),o="abcdefghijklmnopqrst";return e[t]=7,o.split("").forEach(function(e){r[e]=e}),7!=c({},e)[t]||Object.keys(c({},r)).join("")!=o})?function(c,n){for(var u=o(c),s=arguments.length,a=1,f=r.f,b=t.f;s>a;)for(var j,l=i(arguments[a++]),q=f?e(l).concat(f(l)):e(l),_=q.length,g=0;_>g;)b.call(l,j=q[g++])&&(u[j]=l[j]);return u}:c;
},{"./_object-keys":"U9a7","./_object-gops":"EWMd","./_object-pie":"vjRp","./_to-object":"rfVX","./_iobject":"nGau","./_fails":"5BXi"}],"K3/J":[function(require,module,exports) {
var e=require("./_export");e(e.S+e.F,"Object",{assign:require("./_object-assign")});
},{"./_export":"izCb","./_object-assign":"e3Bp"}],"QPOP":[function(require,module,exports) {
require("../../modules/es6.object.assign"),module.exports=require("../../modules/_core").Object.assign;
},{"../../modules/es6.object.assign":"K3/J","../../modules/_core":"ss9A"}],"SlVz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){window.parent.postMessage(JSON.stringify(e),"*")};exports.default=e;
},{}],"Lqfu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./helpers/hostCommand"));function t(e){return e&&e.__esModule?e:{default:e}}var a={},r={init:function(e,t){a[e]=t},update:function(t,r){var u=a[t]||{},d=Object.assign(u,r);(0,e.default)({cmd:"storage-save",data:{key:t,data:d}})}};exports.default=r;
},{"./helpers/hostCommand":"SlVz"}],"e5D2":[function(require,module,exports) {
"use strict";function e(e,t){var r=e;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r=r.replace(new RegExp("{{".concat(n,"}}"),"g"),t[n]));return r}function t(t,r){return e(document.getElementById(t).innerHTML,r)}function r(t,r){return e(t,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.template=t,exports.templateText=r;
},{}],"qCvq":[function(require,module,exports) {
"use strict";function e(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(r){return e(r)};exports.default=r;
},{}],"nBhu":[function(require,module,exports) {
"use strict";function e(e,n){return t(e)||r(e,n)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(e,i){var r=[],t=!0,n=!1,o=void 0;try{for(var a,d=e[Symbol.iterator]();!(t=(a=d.next()).done)&&(r.push(a.value),!i||r.length!==i);t=!0);}catch(l){n=!0,o=l}finally{try{t||null==d.return||d.return()}finally{if(n)throw o}}return r}function t(e){if(Array.isArray(e))return e}function n(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)}function o(i){var r=/iPhone/i,t=/iPod/i,n=/iPad/i,o=/\bAndroid(?:.+)Mobile\b/i,a=/Android/i,d=/\bAndroid(?:.+)SD4930UR\b/i,l=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,b=/Windows Phone/i,p=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,u=/BB10/i,s=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/\Mobile(?:.+)Firefox\b/i;function f(e,i){return e.test(i)}var w=i||("undefined"!=typeof navigator?navigator.userAgent:""),y=w.split("[FBAN");void 0!==y[1]&&(w=e(y,1)[0]);void 0!==(y=w.split("Twitter"))[1]&&(w=e(y,1)[0]);var A={apple:{phone:f(r,w)&&!f(b,w),ipod:f(t,w),tablet:!f(r,w)&&f(n,w)&&!f(b,w),device:(f(r,w)||f(t,w)||f(n,w))&&!f(b,w)},amazon:{phone:f(d,w),tablet:!f(d,w)&&f(l,w),device:f(d,w)||f(l,w)},android:{phone:!f(b,w)&&f(d,w)||!f(b,w)&&f(o,w),tablet:!f(b,w)&&!f(d,w)&&!f(o,w)&&(f(l,w)||f(a,w)),device:!f(b,w)&&(f(d,w)||f(l,w)||f(o,w)||f(a,w))||f(/\bokhttp\b/i,w)},windows:{phone:f(b,w),tablet:f(p,w),device:f(b,w)||f(p,w)},other:{blackberry:f(c,w),blackberry10:f(u,w),opera:f(s,w),firefox:f(h,w),chrome:f(v,w),device:f(c,w)||f(u,w)||f(s,w)||f(h,w)||f(v,w)}};return A.any=A.apple.device||A.android.device||A.windows.device||A.other.device,A.phone=A.apple.phone||A.android.phone||A.windows.phone,A.tablet=A.apple.tablet||A.android.tablet||A.windows.tablet,A}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIOS=n,exports.isMobile=o;
},{}],"kH3q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,c){var e=new Date(t),a=new Date,o="".concat("0".concat(e.getDay()+1).slice(-2)),n="".concat("0".concat(e.getHours()).slice(-2)),r="".concat("0".concat(e.getMinutes()).slice(-2)),g="".concat(n,":").concat(r);return a.getFullYear()!==e.getFullYear()?"".concat(o," ").concat(c[e.getMonth()]," ").concat(e.getFullYear()," ").concat(g):a.getMonth()!==e.getMonth()?"".concat(o," ").concat(c[e.getMonth()]," ").concat(g):a.getDay()!==e.getDay()?"".concat(o," ").concat(c[e.getMonth()]," ").concat(g):"".concat(g)};exports.default=t;
},{}],"rJGr":[function(require,module,exports) {
var define;
var n;function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}!function(t,r){"object"==("undefined"==typeof exports?"undefined":e(exports))&&"undefined"!=typeof module?module.exports=r():"function"==typeof n&&n.amd?n(r):t.anime=r()}(this,function(){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},e={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},t=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],r={CSS:{},springs:{}};function a(n,e,t){return Math.min(Math.max(n,e),t)}function o(n,e){return n.indexOf(e)>-1}function u(n,e){return n.apply(null,e)}var i={arr:function(n){return Array.isArray(n)},obj:function(n){return o(Object.prototype.toString.call(n),"Object")},pth:function(n){return i.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||i.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return void 0===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return i.hex(n)||i.rgb(n)||i.hsl(n)},key:function(t){return!n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function c(n){var e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function s(n,e){var t=c(n),o=a(i.und(t[0])?1:t[0],.1,100),u=a(i.und(t[1])?100:t[1],.1,100),s=a(i.und(t[2])?10:t[2],.1,100),f=a(i.und(t[3])?0:t[3],.1,100),l=Math.sqrt(u/o),d=s/(2*Math.sqrt(u*o)),p=d<1?l*Math.sqrt(1-d*d):0,v=1,h=d<1?(d*l-f)/p:-f+l;function g(n){var t=e?e*n/1e3:n;return t=d<1?Math.exp(-t*d*l)*(v*Math.cos(p*t)+h*Math.sin(p*t)):(v+h*t)*Math.exp(-t*l),0===n||1===n?n:1-t}return e?g:function(){var e=r.springs[n];if(e)return e;for(var t=0,a=0;;)if(1===g(t+=1/6)){if(++a>=16)break}else a=0;var o=t*(1/6)*1e3;return r.springs[n]=o,o}}function f(n,e){void 0===n&&(n=1),void 0===e&&(e=.5);var t=a(n,1,10),r=a(e,.1,2);return function(n){return 0===n||1===n?n:-t*Math.pow(2,10*(n-1))*Math.sin((n-1-r/(2*Math.PI)*Math.asin(1/t))*(2*Math.PI)/r)}}function l(n){return void 0===n&&(n=10),function(e){return Math.round(e*n)*(1/n)}}var d=function(){var n=11,e=1/(n-1);function t(n,e){return 1-3*e+3*n}function r(n,e){return 3*e-6*n}function a(n){return 3*n}function o(n,e,o){return((t(e,o)*n+r(e,o))*n+a(e))*n}function u(n,e,o){return 3*t(e,o)*n*n+2*r(e,o)*n+a(e)}return function(t,r,a,i){if(0<=t&&t<=1&&0<=a&&a<=1){var c=new Float32Array(n);if(t!==r||a!==i)for(var s=0;s<n;++s)c[s]=o(s*e,t,a);return function(n){return t===r&&a===i?n:0===n||1===n?n:o(f(n),r,i)}}function f(r){for(var i=0,s=1,f=n-1;s!==f&&c[s]<=r;++s)i+=e;var l=i+(r-c[--s])/(c[s+1]-c[s])*e,d=u(l,t,a);return d>=.001?function(n,e,t,r){for(var a=0;a<4;++a){var i=u(e,t,r);if(0===i)return e;e-=(o(e,t,r)-n)/i}return e}(r,l,t,a):0===d?l:function(n,e,t,r,a){for(var u,i,c=0;(u=o(i=e+(t-e)/2,r,a)-n)>0?t=i:e=i,Math.abs(u)>1e-7&&++c<10;);return i}(r,i,i+e,t,a)}}}(),p=function(){var n=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],f],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(n,e){return function(t){return 1-f(n,e)(1-t)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(n,e){return function(t){return t<.5?f(n,e)(2*t)/2:1-f(n,e)(-2*t+2)/2}}]},t={linear:[.25,.25,.75,.75]},r=function(r){e[r].forEach(function(e,a){t["ease"+r+n[a]]=e})};for(var a in e)r(a);return t}();function v(n,e){if(i.fnc(n))return n;var t=n.split("(")[0],r=p[t],a=c(n);switch(t){case"spring":return s(n,e);case"cubicBezier":return u(d,a);case"steps":return u(l,a);default:return i.fnc(r)?u(r,a):u(d,r)}}function h(n){try{return document.querySelectorAll(n)}catch(n){return}}function g(n,e){for(var t=n.length,r=arguments.length>=2?arguments[1]:void 0,a=[],o=0;o<t;o++)if(o in n){var u=n[o];e.call(r,u,o,n)&&a.push(u)}return a}function m(n){return n.reduce(function(n,e){return n.concat(i.arr(e)?m(e):e)},[])}function y(n){return i.arr(n)?n:(i.str(n)&&(n=h(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function b(n,e){return n.some(function(n){return n===e})}function x(n){var e={};for(var t in n)e[t]=n[t];return e}function M(n,e){var t=x(n);for(var r in n)t[r]=e.hasOwnProperty(r)?e[r]:n[r];return t}function w(n,e){var t=x(n);for(var r in e)t[r]=i.und(n[r])?e[r]:n[r];return t}function k(n){var e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(e)return e[2]}function C(n,e){return i.fnc(n)?n(e.target,e.id,e.total):n}function O(n,e){return n.getAttribute(e)}function P(n,e,t){if(b([t,"deg","rad","turn"],k(e)))return e;var a=r.CSS[e+t];if(!i.und(a))return a;var o=document.createElement(n.tagName),u=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;u.appendChild(o),o.style.position="absolute",o.style.width=100+t;var c=100/o.offsetWidth;u.removeChild(o);var s=c*parseFloat(e);return r.CSS[e+t]=s,s}function I(n,e,t){if(e in n.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.style[e]||getComputedStyle(n).getPropertyValue(r)||"0";return t?P(n,a,t):a}}function B(n,e){return i.dom(n)&&!i.inp(n)&&(O(n,e)||i.svg(n)&&n[e])?"attribute":i.dom(n)&&b(t,e)?"transform":i.dom(n)&&"transform"!==e&&I(n,e)?"css":null!=n[e]?"object":void 0}function D(n){if(i.dom(n)){for(var e,t=n.style.transform||"",r=/(\w+)\(([^)]*)\)/g,a=new Map;e=r.exec(t);)a.set(e[1],e[2]);return a}}function S(n,e,t,r){switch(B(n,e)){case"transform":return function(n,e,t,r){var a,u=o(e,"scale")?1:0+(o(a=e,"translate")||"perspective"===a?"px":o(a,"rotate")||o(a,"skew")?"deg":void 0),i=D(n).get(e)||u;return t&&(t.transforms.list.set(e,i),t.transforms.last=e),r?P(n,i,r):i}(n,e,r,t);case"css":return I(n,e,t);case"attribute":return O(n,e);default:return n[e]||0}}function T(n,e){var t=/^(\*=|\+=|-=)/.exec(n);if(!t)return n;var r=k(n)||0,a=parseFloat(e),o=parseFloat(n.replace(t[0],""));switch(t[0][0]){case"+":return a+o+r;case"-":return a-o+r;case"*":return a*o+r}}function F(n,e){if(i.col(n))return function(n){return i.rgb(n)?(t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=n))?"rgba("+t[1]+",1)":e:i.hex(n)?(r=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,t,r){return e+e+t+t+r+r}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):i.hsl(n)?function(n){var e,t,r,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),o=parseInt(a[1],10)/360,u=parseInt(a[2],10)/100,i=parseInt(a[3],10)/100,c=a[4]||1;function s(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}if(0==u)e=t=r=i;else{var f=i<.5?i*(1+u):i+u-i*u,l=2*i-f;e=s(l,f,o+1/3),t=s(l,f,o),r=s(l,f,o-1/3)}return"rgba("+255*e+","+255*t+","+255*r+","+c+")"}(n):void 0;var e,t,r,a}(n);var t=k(n),r=t?n.substr(0,n.length-t.length):n;return e&&!/\s/g.test(n)?r+e:r}function N(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function A(n){for(var e,t=n.points,r=0,a=0;a<t.numberOfItems;a++){var o=t.getItem(a);a>0&&(r+=N(e,o)),e=o}return r}function E(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return o=n,2*Math.PI*O(o,"r");case"rect":return 2*O(a=n,"width")+2*O(a,"height");case"line":return N({x:O(r=n,"x1"),y:O(r,"y1")},{x:O(r,"x2"),y:O(r,"y2")});case"polyline":return A(n);case"polygon":return t=(e=n).points,A(e)+N(t.getItem(t.numberOfItems-1),t.getItem(0))}var e,t,r,a,o}function L(n,e){var t=e||{},r=t.el||function(n){for(var e=n.parentNode;i.svg(e)&&(e=e.parentNode,i.svg(e.parentNode)););return e}(n),a=r.getBoundingClientRect(),o=O(r,"viewBox"),u=a.width,c=a.height,s=t.viewBox||(o?o.split(" "):[0,0,u,c]);return{el:r,viewBox:s,x:s[0]/1,y:s[1]/1,w:u/s[2],h:c/s[3]}}function j(n,e){function t(t){void 0===t&&(t=0);var r=e+t>=1?e+t:0;return n.el.getPointAtLength(r)}var r=L(n.el,n.svg),a=t(),o=t(-1),u=t(1);switch(n.property){case"x":return(a.x-r.x)*r.w;case"y":return(a.y-r.y)*r.h;case"angle":return 180*Math.atan2(u.y-o.y,u.x-o.x)/Math.PI}}function q(n,e){var t=/-?\d*\.?\d+/g,r=F(i.pth(n)?n.totalLength:n,e)+"";return{original:r,numbers:r.match(t)?r.match(t).map(Number):[0],strings:i.str(n)||e?r.split(t):[]}}function $(n){return g(n?m(i.arr(n)?n.map(y):y(n)):[],function(n,e,t){return t.indexOf(n)===e})}function X(n){var e=$(n);return e.map(function(n,t){return{target:n,id:t,total:e.length,transforms:{list:D(n)}}})}function Y(n,e){var t=x(e);if(/^spring/.test(t.easing)&&(t.duration=s(t.easing)),i.arr(n)){var r=n.length;2!==r||i.obj(n[0])?i.fnc(e.duration)||(t.duration=e.duration/r):n={value:n}}var a=i.arr(n)?n:[n];return a.map(function(n,t){var r=i.obj(n)&&!i.pth(n)?n:{value:n};return i.und(r.delay)&&(r.delay=t?0:e.delay),i.und(r.endDelay)&&(r.endDelay=t===a.length-1?e.endDelay:0),r}).map(function(n){return w(n,t)})}function Z(n,e){var t=[],r=e.keyframes;for(var a in r&&(e=w(function(n){for(var e=g(m(n.map(function(n){return Object.keys(n)})),function(n){return i.key(n)}).reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[]),t={},r=function(r){var a=e[r];t[a]=n.map(function(n){var e={};for(var t in n)i.key(t)?t==a&&(e.value=n[t]):e[t]=n[t];return e})},a=0;a<e.length;a++)r(a);return t}(r),e)),e)i.key(a)&&t.push({name:a,tweens:Y(e[a],n)});return t}var Q={css:function(n,e,t){return n.style[e]=t},attribute:function(n,e,t){return n.setAttribute(e,t)},object:function(n,e,t){return n[e]=t},transform:function(n,e,t,r,a){if(r.list.set(e,t),e===r.last||a){var o="";r.list.forEach(function(n,e){o+=e+"("+n+") "}),n.style.transform=o}}};function V(n,e){X(n).forEach(function(n){for(var t in e){var r=C(e[t],n),a=n.target,o=k(r),u=S(a,t,o,n),i=T(F(r,o||k(u)),u),c=B(a,t);Q[c](a,t,i,n.transforms,!0)}})}function z(n,e){return g(m(n.map(function(n){return e.map(function(e){return function(n,e){var t=B(n.target,e.name);if(t){var r=function(n,e){var t;return n.tweens.map(function(r){var a=function(n,e){var t={};for(var r in n){var a=C(n[r],e);i.arr(a)&&1===(a=a.map(function(n){return C(n,e)})).length&&(a=a[0]),t[r]=a}return t.duration=parseFloat(t.duration),t.delay=parseFloat(t.delay),t}(r,e),o=a.value,u=i.arr(o)?o[1]:o,c=k(u),s=S(e.target,n.name,c,e),f=t?t.to.original:s,l=i.arr(o)?o[0]:f,d=k(l)||k(s),p=c||d;return i.und(u)&&(u=f),a.from=q(l,p),a.to=q(T(u,l),p),a.start=t?t.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=v(a.easing,a.duration),a.isPath=i.pth(o),a.isColor=i.col(a.from.original),a.isColor&&(a.round=1),t=a,a})}(e,n),a=r[r.length-1];return{type:t,property:e.name,animatable:n,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}(n,e)})})),function(n){return!i.und(n)})}function H(n,e){var t=n.length,r=function(n){return n.timelineOffset?n.timelineOffset:0},a={};return a.duration=t?Math.max.apply(Math,n.map(function(n){return r(n)+n.duration})):e.duration,a.delay=t?Math.min.apply(Math,n.map(function(n){return r(n)+n.delay})):e.delay,a.endDelay=t?a.duration-Math.max.apply(Math,n.map(function(n){return r(n)+n.duration-n.endDelay})):e.endDelay,a}var G,R=0,W=[],J=[],K=function(){function n(){G=requestAnimationFrame(e)}function e(e){var t=W.length;if(t){for(var r=0;r<t;){var a=W[r];if(a.paused){var o=W.indexOf(a);o>-1&&(W.splice(o,1),t=W.length)}else a.tick(e);r++}n()}else G=cancelAnimationFrame(G)}return n}();function U(t){void 0===t&&(t={});var r,o=0,u=0,i=0,c=0,s=null;function f(n){var e=window.Promise&&new Promise(function(n){return s=n});return n.finished=e,e}var l,d,p,v,h,m,y,b,x=(d=M(n,l=t),v=Z(p=M(e,l),l),y=H(m=z(h=X(l.targets),v),p),b=R,R++,w(d,{id:b,children:[],animatables:h,animations:m,duration:y.duration,delay:y.delay,endDelay:y.endDelay}));function k(){var n=x.direction;"alternate"!==n&&(x.direction="normal"!==n?"normal":"reverse"),x.reversed=!x.reversed,r.forEach(function(n){return n.reversed=x.reversed})}function C(n){return x.reversed?x.duration-n:n}function O(){o=0,u=C(x.currentTime)*(1/U.speed)}function P(n,e){e&&e.seek(n-e.timelineOffset)}function I(n){for(var e=0,t=x.animations,r=t.length;e<r;){var o=t[e],u=o.animatable,i=o.tweens,c=i.length-1,s=i[c];c&&(s=g(i,function(e){return n<e.end})[0]||s);for(var f=a(n-s.start-s.delay,0,s.duration)/s.duration,l=isNaN(f)?1:s.easing(f),d=s.to.strings,p=s.round,v=[],h=s.to.numbers.length,m=void 0,y=0;y<h;y++){var b=void 0,M=s.to.numbers[y],w=s.from.numbers[y]||0;b=s.isPath?j(s.value,l*M):w+l*(M-w),p&&(s.isColor&&y>2||(b=Math.round(b*p)/p)),v.push(b)}var k=d.length;if(k){m=d[0];for(var C=0;C<k;C++){d[C];var O=d[C+1],P=v[C];isNaN(P)||(m+=O?P+O:P+" ")}}else m=v[0];Q[o.type](u.target,o.property,m,u.transforms),o.currentValue=m,e++}}function B(n){x[n]&&!x.passThrough&&x[n](x)}function D(n){var e=x.duration,t=x.delay,l=e-x.endDelay,d=C(n);x.progress=a(d/e*100,0,100),x.reversePlayback=d<x.currentTime,r&&function(n){if(x.reversePlayback)for(var e=c;e--;)P(n,r[e]);else for(var t=0;t<c;t++)P(n,r[t])}(d),!x.began&&x.currentTime>0&&(x.began=!0,B("begin"),B("loopBegin")),d<=t&&0!==x.currentTime&&I(0),(d>=l&&x.currentTime!==e||!e)&&I(e),d>t&&d<l?(x.changeBegan||(x.changeBegan=!0,x.changeCompleted=!1,B("changeBegin")),B("change"),I(d)):x.changeBegan&&(x.changeCompleted=!0,x.changeBegan=!1,B("changeComplete")),x.currentTime=a(d,0,e),x.began&&B("update"),n>=e&&(u=0,x.remaining&&!0!==x.remaining&&x.remaining--,x.remaining?(o=i,B("loopComplete"),B("loopBegin"),"alternate"===x.direction&&k()):(x.paused=!0,x.completed||(x.completed=!0,B("loopComplete"),B("complete"),!x.passThrough&&"Promise"in window&&(s(),f(x)))))}return f(x),x.reset=function(){var n=x.direction;x.passThrough=!1,x.currentTime=0,x.progress=0,x.paused=!0,x.began=!1,x.changeBegan=!1,x.completed=!1,x.changeCompleted=!1,x.reversePlayback=!1,x.reversed="reverse"===n,x.remaining=x.loop,r=x.children;for(var e=c=r.length;e--;)x.children[e].reset();(x.reversed&&!0!==x.loop||"alternate"===n&&1===x.loop)&&x.remaining++,I(0)},x.set=function(n,e){return V(n,e),x},x.tick=function(n){i=n,o||(o=i),D((i+(u-o))*U.speed)},x.seek=function(n){D(C(n))},x.pause=function(){x.paused=!0,O()},x.play=function(){x.paused&&(x.completed&&x.reset(),x.paused=!1,W.push(x),O(),G||K())},x.reverse=function(){k(),O()},x.restart=function(){x.reset(),x.play()},x.reset(),x.autoplay&&x.play(),x}function _(n,e){for(var t=e.length;t--;)b(n,e[t].animatable.target)&&e.splice(t,1)}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){document.hidden?(W.forEach(function(n){return n.pause()}),J=W.slice(0),W=[]):J.forEach(function(n){return n.play()})}),U.version="3.0.1",U.speed=1,U.running=W,U.remove=function(n){for(var e=$(n),t=W.length;t--;){var r=W[t],a=r.animations,o=r.children;_(e,a);for(var u=o.length;u--;){var i=o[u],c=i.animations;_(e,c),c.length||i.children.length||o.splice(u,1)}a.length||o.length||r.pause()}},U.get=S,U.set=V,U.convertPx=P,U.path=function(n,e){var t=i.str(n)?h(n)[0]:n,r=e||100;return function(n){return{property:n,el:t,svg:L(t),totalLength:E(t)*(r/100)}}},U.setDashoffset=function(n){var e=E(n);return n.setAttribute("stroke-dasharray",e),e},U.stagger=function(n,e){void 0===e&&(e={});var t=e.direction||"normal",r=e.easing?v(e.easing):null,a=e.grid,o=e.axis,u=e.from||0,c="first"===u,s="center"===u,f="last"===u,l=i.arr(n),d=l?parseFloat(n[0]):parseFloat(n),p=l?parseFloat(n[1]):0,h=k(l?n[1]:n)||0,g=e.start||0+(l?d:0),m=[],y=0;return function(n,e,i){if(c&&(u=0),s&&(u=(i-1)/2),f&&(u=i-1),!m.length){for(var v=0;v<i;v++){if(a){var b=s?(a[0]-1)/2:u%a[0],x=s?(a[1]-1)/2:Math.floor(u/a[0]),M=b-v%a[0],w=x-Math.floor(v/a[0]),k=Math.sqrt(M*M+w*w);"x"===o&&(k=-M),"y"===o&&(k=-w),m.push(k)}else m.push(Math.abs(u-v));y=Math.max.apply(Math,m)}r&&(m=m.map(function(n){return r(n/y)*y})),"reverse"===t&&(m=m.map(function(n){return o?n<0?-1*n:-n:Math.abs(y-n)}))}return g+(l?(p-d)/y:d)*(Math.round(100*m[e])/100)+h}},U.timeline=function(n){void 0===n&&(n={});var t=U(n);return t.duration=0,t.add=function(r,a){var o=W.indexOf(t),u=t.children;function c(n){n.passThrough=!0}o>-1&&W.splice(o,1);for(var s=0;s<u.length;s++)c(u[s]);var f=w(r,M(e,n));f.targets=f.targets||n.targets;var l=t.duration;f.autoplay=!1,f.direction=t.direction,f.timelineOffset=i.und(a)?l:T(a,l),c(t),t.seek(f.timelineOffset);var d=U(f);c(d),u.push(d);var p=H(u,n);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},U.easing=v,U.penner=p,U.random=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},U});
},{}],"5S5K":[function(require,module,exports) {
module.exports="email-icon.1c2e9722.svg";
},{}],"6FWJ":[function(require,module,exports) {
module.exports="phone-icon.29b709cd.svg";
},{}],"uPla":[function(require,module,exports) {
module.exports="contacts-icon.310eeca2.svg";
},{}],"L8OF":[function(require,module,exports) {
module.exports="viber-icon.140f30ed.svg";
},{}],"i3pw":[function(require,module,exports) {
module.exports="whatsapp-icon.48b85dea.svg";
},{}],"2M4b":[function(require,module,exports) {
module.exports="telegram-icon.b13b4d3b.svg";
},{}],"DZdp":[function(require,module,exports) {
module.exports="messenger-icon.ab36eb97.svg";
},{}],"fRxd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./lib/anime.min")),n=i(require("./img/email-icon.svg")),t=i(require("./img/phone-icon.svg")),c=i(require("./img/contacts-icon.svg")),_=i(require("./img/viber-icon.svg")),o=i(require("./img/whatsapp-icon.svg")),r=i(require("./img/telegram-icon.svg")),a=i(require("./img/messenger-icon.svg"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){var e=document.querySelector(".ctc__content-inner__middle");e.scrollTop=e.scrollHeight-e.clientHeight}var l={errors:{uploadError:"_upload"},msgContentTypes:{text:"-text",file:"-file",image:"-image"},el:{poweredLink:function(){return document.querySelector("#powered-link")},mainBlock:function(){return document.querySelector(".ctc")},contentBlock:function(){return document.querySelector(".ctc__content")},innerBlock:function(){return document.querySelector(".ctc__content-inner")},messagesBlock:function(){return document.querySelector(".ctc__content-inner__middle__inner")},chatName:function(){return document.querySelector(".ctc__content-inner__top__actions__operator__info__name")},chatStatus:function(){return document.querySelector(".ctc__content-inner__top__actions__operator__info__status")},chatLogoBlock:function(){return document.querySelector(".ctc__content-inner__top__actions__operator__avatar")},chatLogo:function(){return document.querySelector(".ctc__content-inner__top__actions__operator__avatar__image")},chatButton:function(){return document.querySelector(".ctc__show__img")},formMessage:function(){return document.querySelector(".ctc__content-inner__bottom__form")},textMessage:function(){return document.querySelector(".ctc__content-inner__bottom__form textarea")},buttonMessage:function(){return document.querySelector(".ctc__content-inner__bottom__form button")},lastForm:function(){var e=document.querySelectorAll(".ctc__content-inner__middle__inner .ctc__content-inner__middle__message__form");return e[e.length-1]},middleFormButton:function(){return document.querySelector(".ctc__content-inner__middle__message__form button")},middleFormAgreement:function(){return document.querySelector(".ctc__checkbox-wrap")},middleFormAgreementCheckbox:function(){return document.querySelector(".ctc__content-inner__middle__message__form .ctc__checkbox-wrap-checkbox")},closeChatButton:function(){return document.querySelector(".ctc__content-inner__top__actions__close")},showChatButton:function(){return document.querySelector(".ctc__show")},widgetMessage:function(){return document.querySelector(".ctc__show__message")},widgetMessageText:function(){return document.querySelector(".ctc__show__message span:last-child")},widgetMessageClose:function(){return document.querySelector(".ctc__show__message .ctc__show__message__close")},unreadedCount:function(){return document.querySelector(".ctc__show__unreaded")},messages:function(){return document.querySelectorAll(".ctc__content-inner__middle__message")},lastMessage:function(){return document.querySelector(".ctc__content-inner__middle__message:last-child")},lastMessageText:function(){return document.querySelector(".ctc__content-inner__middle__message:last-child .ctc__content-inner__middle__message__content__text")},formTabHeader:function(){return document.querySelector(".ctc__form-tabs__item")},formTabHeaderLinks:function(){return document.querySelectorAll(".ctc__form-tabs__item__link")},formActiveTabHeaderLink:function(){return document.querySelector(".ctc__form-tabs__item__link.-selected")},formTabContent:function(){return document.querySelector(".ctc__tabs-content")},formTabContents:function(){return document.querySelectorAll(".ctc__tabs-content__item")},formActiveContent:function(){return document.querySelector(".ctc__tabs-content__item.-active")},formTabSubmit:function(){return document.querySelector(".ctc__tabs-submit")},attachmentLink:function(){return document.querySelector(".ctc__attachment__link")},attachmentForm:function(){return document.querySelector(".ctc__attachment")},attachmentInput:function(){return document.querySelector(".ctc__attachment__input")},dropFilesBlock:function(){return document.querySelector(".ctc__drop-files")},dropFilesBlockHeader:function(){return document.querySelector(".ctc__drop-files__item.-header")},dropFilesBlockText:function(){return document.querySelector(".ctc__drop-files__item.-text")},returnNotification:function(){return document.querySelector(".ctc__content-inner__bottom__return")},sendMessageButton:function(){return document.querySelector(".ctc__content-inner__bottom__form__button")}},class:{chatOnline:"ctc__content-inner__top__actions__operator__info__status--online",mainOpen:"ctc--show-content",innerOpen:"ctc__content-inner--visible"},changeAccentColor:function(e){document.getElementsByTagName("style")[0].innerHTML="\n    .ctc__content-inner__middle__message--client .ctc__content-inner__middle__message__content,\n    .ctc__content-inner__top__actions__menu.ctc__content-inner__top__actions__menu--unreaded:after,\n    .ctc__content-inner__bottom__form__button,\n    .ctc__content-inner__middle__message__form__button,\n    .ctc__show__message {\n      background-color: #".concat(e,";\n    }\n    .ctc__suggests__item__link__corner,\n    .ctc__content-inner__middle__message--user .ctc__content-inner__middle__message__content:before,\n    .ctc__content-inner__middle__message--client .ctc__content-inner__middle__message__content:before {\n      border-bottom-color: #").concat(e,";\n    }\n    .ctc__content-inner__middle__message__content.-banner {\n      border-bottom-color: #").concat(e,";\n    }\n    a.ctc__suggests__item__link {\n      border-color: #").concat(e,";\n      color: #").concat(e," !important;\n    }\n    .ctc__show__img__bg,\n    .ctc__show__message__corner > svg,\n    .ctc__suggests__item__link__corner > svg {\n      fill: #").concat(e,";\n    }")},autoTextAreaScroll:function(){return s()},createSuggests:function(e,n){var t="";return e.forEach(function(e){-1===n.indexOf(e.id)&&(t+='<li class="ctc__suggests__item">\n        <a data-id="'.concat(e.id,'" class="ctc__suggests__item__link" href="javascript:void(null);">\n        ').concat(e.title,'\n        <span class="ctc__suggests__item__link__corner"></span>\n        </a>\n        </li>'))}),""!==t&&(t='<div class="ctc__content-inner__middle__message ctc__content-inner__middle__message--client">\n      <ul class="ctc__suggests">\n      '.concat(t,"\n      </ul>\n      </div>")),t},createInfoMessage:function(e,n,t){return'<div class="ctc__content-inner__middle__info '.concat(!0===n?"-error":""," \n    ").concat(t||"",'"><span>').concat(e,"</span></div>")},createImageWithPreloader:function(e){return'<span class="ctc-loader">\n      <img class="ctc-loader__img" src="../preloader.gif">\n     </span>\n     <img class="loading" onload="dom.loadedElement(this);" src="'.concat(e,'">')},createVideoWithPreloader:function(e){return'<span class="ctc-loader">\n       <img class="ctc-loader__img" src="../preloader.gif">\n      </span>\n      <video width="100%" class="loading" onloadeddata="dom.loadedElement(this);" loop autoplay><source src="'.concat(e,'" type="video/mp4"></video>')},loadedElement:function(e){e.previousElementSibling.remove(),e.classList.remove("loading"),s()},animateWidgetButton:function(){var n={chat1:document.querySelector(".ctc__show__img__group.-group-1"),chat2:document.querySelector(".ctc__show__img__group.-group-2"),phone:document.querySelector(".ctc__show__img__group.-group-3"),camera:document.querySelector(".ctc__show__img__group.-group-4"),logo:document.querySelector(".ctc__show__img__group.-group-5"),chat3:document.querySelector(".ctc__show__img__group.-group-6")};(0,e.default)({targets:n.chat1,keyframes:[{duration:0,rotate:0,scale:1,translateX:0,translateY:0,opacity:1},{duration:600,rotate:-20,scale:.88,easing:"easeInOutCubic"},{duration:300,rotate:0,scale:11,translateX:0,translateY:-3.85,easing:"easeInOutCubic"},{duration:0,opacity:0}]}),(0,e.default)({targets:n.chat2,keyframes:[{duration:0,rotate:-20,scale:0,translateX:0,translateY:0,opacity:0},{duration:600,rotate:0,scale:1,opacity:1,easing:"easeOutBack"}],delay:750})},createInput:function(e){return'<input \n    class="ctc__content-inner__middle__message__form__textinput -field" \n    type="'.concat(e.type,'"\n    name="').concat(e.key,'"\n    maxlength="').concat(e.maxlength,'"\n    value="').concat(e.value||"",'"\n    placeholder="').concat(e.title||"{{".concat(e.titleKey,"}}"),'"\n    ').concat(e.required?"required":"",">")},createWelcomeForm:function(e){var n="";return e.forEach(function(t,c){n+='<div class="ctc__content-inner__middle__message__form__wrap '.concat(e.length===c+1?"ctc-last":"",'">').concat(l.createInput(t),"</div>")}),'<div class="ctc__content-inner__middle__message ctc__content-inner__middle__message--form"> \n    <form action="" class="ctc__content-inner__middle__message__form">\n      <p class="ctc__content-inner__middle__message__error"></p>\n      '.concat(n,'\n      <div class="ctc__content-inner__middle__message__form__wrap">\n        <button class="ctc__content-inner__middle__message__form__button" type="submit" name="submit">{{SUBMIT}}</button>\n      </div>\n    </form>\n  </div>')},createFeedbackForm:function(e){var n="";return e.forEach(function(e){n+='<div class="ctc__content-inner__middle__message__form__wrap">\n        '.concat(l.createInput(e),"\n      </div>")}),'<div class="ctc__content-inner__middle__message ctc__content-inner__middle__message--form"> \n    <form action="" class="ctc__content-inner__middle__message__form">\n      <p class="ctc__content-inner__middle__message__error"></p>\n      '.concat(n+='<div class="ctc__content-inner__middle__message__form__wrap ctc-last"">\n      <textarea \n        class="ctc__content-inner__middle__message__form__textinput"\n        maxlength="10000"\n        name="message"\n        placeholder="{{FORM_MESSAGE}}"\n        required></textarea>\n    </div>','\n      <div class="ctc__content-inner__middle__message__form__wrap">\n        <button class="ctc__content-inner__middle__message__form__button" type="submit" name="submit">{{SUBMIT}}</button>\n      </div>\n    </form>\n  </div>')},createAutoFeedbackForm:function(e,i,s){return'<div class="ctc__content-inner__middle__message ctc__content-inner__middle__message--form"> \n    <form action="" class="ctc__content-inner__middle__message__form">\n      <p class="ctc__content-inner__middle__message__error"></p>\n      <span class="ctc__content-inner__middle__message__content__header">{{AUTO_FEEDBACK_HEADER}}</span>\n      <span class="ctc__content-inner__middle__message__content__text -banner -block">{{AUTO_FEEDBACK_DESC}}</span>\n\n      <ul class="ctc__form-tabs">\n        <li class="ctc__form-tabs__item" style="display: '.concat(-1===i.indexOf("email")?"none":"",'">\n          <a class="ctc__form-tabs__item__link" href="javascript:void(null)" title="Email" data-textfield="true">\n            <img src="').concat(n.default,'" alt="">\n          </a>\n        </li>\n\n        <li class="ctc__form-tabs__item" style="display: ').concat(-1===i.indexOf("viber")?"none":"",'">\n          <a class="ctc__form-tabs__item__link" href="javascript:void(null)" title="Viber" data-textfield="true">\n            <img src="').concat(_.default,'" alt="">\n          </a>\n        </li>\n\n        <li class="ctc__form-tabs__item" style="display: ').concat(-1===i.indexOf("whatsapp")?"none":"",'">\n          <a class="ctc__form-tabs__item__link" href="javascript:void(null)" title="WhatsApp" data-textfield="true">\n            <img src="').concat(o.default,'" alt="">\n          </a>\n        </li>\n\n        <li class="ctc__form-tabs__item" style="display: ').concat(-1===i.indexOf("telegram")?"none":"",'">\n          <a class="ctc__form-tabs__item__link" href="javascript:void(null)" title="Telegram Messenger"" data-textfield="true">\n            <img src="').concat(r.default,'" alt="">\n          </a>\n        </li>\n\n        <li class="ctc__form-tabs__item" style="display: ').concat(-1===i.indexOf("messenger")?"none":"",'">\n          <a class="ctc__form-tabs__item__link" href="javascript:void(null)" title="Facebook Messenger" data-textfield="true">\n            <img src="').concat(a.default,'" alt="">\n          </a>\n        </li>\n\n        <li class="ctc__form-tabs__item" style="display: ').concat(-1===i.indexOf("phone")?"none":"",'">\n          <a class="ctc__form-tabs__item__link" href="javascript:void(null)" title="Phone" data-textfield="true">\n            <img src="').concat(t.default,'" alt="">\n          </a>\n        </li>\n\n        <li class="ctc__form-tabs__item" style="display: ').concat(-1===i.indexOf("contacts")?"none":"",'">\n          <a class="ctc__form-tabs__item__link" href="javascript:void(null)" title="Contacts" data-textfield="false">\n            <img src="').concat(c.default,'" alt="">\n          </a>\n        </li>\n      </ul>\n\n      <div class="ctc__tabs-content">\n        <div class="ctc__tabs-content__item">\n          <div class="ctc__content-inner__middle__message__form__wrap ctc-first ctc-last">\n            <input class="ctc__content-inner__middle__message__form__textinput -field" type="email" name="email" maxlength="300" value="').concat(e.email||"",'" placeholder="{{FORM_EMAIL}}">\n          </div>\n        </div>\n\n        <div class="ctc__tabs-content__item">\n          <div class="ctc__content-inner__middle__message__form__wrap ctc-first ctc-last">\n            <input class="ctc__content-inner__middle__message__form__textinput -field" type="tel" name="viber" maxlength="50" value="').concat(e.phone||"",'" placeholder="{{PHONE_NUMBER_FOR}} Viber">\n          </div>\n        </div>\n\n        <div class="ctc__tabs-content__item">\n          <div class="ctc__content-inner__middle__message__form__wrap ctc-first ctc-last">\n            <input class="ctc__content-inner__middle__message__form__textinput -field" type="tel" name="whatsapp" maxlength="50" value="').concat(e.phone||"",'" placeholder="{{PHONE_NUMBER_FOR}} WhatsApp">\n          </div>\n        </div>\n\n        <div class="ctc__tabs-content__item">\n          <div class="ctc__content-inner__middle__message__form__wrap ctc-first ctc-last">\n            <input class="ctc__content-inner__middle__message__form__textinput -field" type="text" name="telegram" maxlength="50" value="').concat(e.phone||"",'" placeholder="{{ACCOUNT_TELEGRAM}}">\n          </div>\n        </div>\n\n        <div class="ctc__tabs-content__item">\n          <div class="ctc__content-inner__middle__message__form__wrap ctc-first ctc-last">\n            <input class="ctc__content-inner__middle__message__form__textinput -field" type="text" name="facebook" maxlength="50" value="" placeholder="{{PROFILE_LINK}}">\n          </div>\n        </div>\n\n        <div class="ctc__tabs-content__item">\n          <div class="ctc__content-inner__middle__message__form__wrap ctc-first ctc-last">\n            <input class="ctc__content-inner__middle__message__form__textinput -field" type="tel" name="phone" maxlength="300" value="').concat(e.phone||"",'" placeholder="{{FORM_PHONE}}">\n          </div>\n        </div>\n\n        <div class="ctc__tabs-content__item">\n          <p class="ctc__tabs-content__item__text">').concat(s,'</p>\n        </div>\n      </div>\n\n      <div class="ctc__tabs-submit ctc__content-inner__middle__message__form__wrap">\n        <button class="ctc__content-inner__middle__message__form__button" type="submit" name="submit">{{SUBMIT}}</button>\n      </div>\n    </form>\n  </div>')},createBanner:function(e,n,t,c){return'<div class="ctc__content-inner__middle__message ctc__content-inner__middle__message--operator">\n       <a '.concat(t?'href="'.concat(t,'"'):"",' target="_blank" rel="noopener noreferrer" class="ctc__content-inner__middle__message__content -banner">\n         ').concat(c?'<span class="ctc__content-inner__middle__message__content__image" style="background-image: url(\''.concat(c,"')\"></span>"):"",'\n         <span class="ctc__content-inner__middle__message__content__header">').concat(e,"</span>\n         ").concat(n?'<span class="ctc__content-inner__middle__message__content__text -banner">'.concat(n,"</span>"):"","\n       </a>\n     </div>")},createCustomButton:function(e,n){return{content:'\n        <span class="replain-link__icon">\n          <svg x="0px" y="0px" viewBox="0 0 18 18" width="18" height="18">\n            <path fill:#010101="" class="st0" d="M9.0022717,0C2.9457765,0,0.4292893,3.0887458,0.4292893,7.3125048v2.2886448\n              c0,4.2237291,2.5164871,7.3124743,8.5729828,7.3124743c0.2845993,0,1.0852404-0.0234604,1.0852404-0.0234604\n              c0.3202801,0,0.5822735,0.2620373,0.5822735,0.5822735v0.0454559c0,0.1664944-0.0771923,0.309021-0.1916227,0.4133186\n              l0.0026989,0.001709c0,0-0.0838785,0.080204,0.0624094,0.0652122c1.0088882-0.0936089,7.0274401-0.9631634,7.0274401-8.3969955\n              V8.9394989V7.3125048C17.5707111,3.0887308,14.9424915,0,9.0022717,0z M9.0000076,12.2791405\n              c-0.874279,0-1.6127791-0.7384396-1.6127791-1.6128244c0-0.8742046,0.7385154-1.6126757,1.6127801-1.6126757\n              s1.6127806,0.738471,1.6127806,1.6126757C10.6127863,11.5407009,9.8742723,12.2791405,9.0000076,12.2791405z M9.0000076,7.9381032\n              c-0.874279,0-1.6127791-0.73844-1.6127791-1.6128249c0-0.8742042,0.7385154-1.6128249,1.6127801-1.6128249\n              s1.6127806,0.7386208,1.6127806,1.6128249C10.6127863,7.1996632,9.8742723,7.9381032,9.0000076,7.9381032z"></path>\n          </svg>\n        </span>\n        <span class="replain-link__caption">{title}</span>\n        ',styles:"\n        .replain-link {\n          background-color: #".concat(e,";\n          display: inline-block;\n          vertical-align: baseline;\n          position: relative;\n          margin: 5px;\n          padding: 7px 15px 7px 12px;\n          border-radius: 5px;\n          text-decoration: none;\n          line-height: 1;\n          white-space: nowrap;\n          transition: opacity .15s linear;\n          border: 1px solid transparent;\n          box-sizing: border-box;\n        }\n\n        .replain-link.-replain-only-icon {\n          padding-left: 15px;\n        }\n\n        .replain-link,\n        .replain-link:hover {\n          color: #").concat(n?"222":"FFF",";\n        }\n \n        .replain-link:hover {\n          opacity: .75;\n          text-decoration: none;\n        }\n\n        .replain-link.-replain-border-dark {\n          border-color: #222;\n        }  \n\n        .replain-link.-replain-border-light {\n          border-color: #FFF;\n        }  \n  \n        .replain-link:first-child {\n          margin-left: 0;\n        }\n  \n        .replain-link:last-child {\n          margin-right: 0;\n        }\n  \n        .replain-link__icon {\n          margin: 0 6px 0 0;\n          padding: 0;\n          display: inline-block;\n          position: relative;\n          vertical-align: middle;\n          font-size: 0;\n          line-height: 0;\n        }\n\n        .replain-link.-replain-only-icon .replain-link__icon {\n          margin: 0 0px 0 0;\n        }\n  \n        .replain-link__icon path {\n          fill: currentColor;\n        }\n  \n        .replain-link__caption {\n          margin: 0;\n          padding: 0;\n          display: inline;\n          line-height: 1;\n          font-family: sans-serif;\n          font-weight: normal;\n          font-size: 14px;\n        }")}},removeFeedbackForms:function(){var e=document.querySelectorAll(".ctc__content-inner__middle__message--form");e&&e.length&&e.forEach(function(e){e.parentNode.removeChild(e)})}};document.querySelector(".ctc__content-inner__bottom__form__textarea").addEventListener("input",function(){var e=150;""!==this.value?(this.scrollHeight<150&&(e=this.scrollHeight),l.el.sendMessageButton().classList.add("_active")):(e=40,l.el.sendMessageButton().classList.remove("_active")),this.style.height="".concat(e,"px")},!1),l.resetFormMessage=function(){l.el.formMessage().reset();var e=document.createEvent("Event");e.initEvent("input",!0,!0),l.el.textMessage().dispatchEvent(e)},l.createPrivacy=function(e){l.el.lastMessage().querySelector(".ctc-last").insertAdjacentHTML("afterend",'<div class="ctc__content-inner__middle__message__form__wrap ctc-last">\n        <label class="ctc__checkbox-wrap">\n          <span class="ctc__checkbox-wrap-checkbox">\n            <input type="checkbox" name="agreement" value="1">\n          </span>\n          <span class="ctc__checkbox-wrap-title">\n            '.concat(e,"\n          </span>\n        </label>\n      </div>"))},l.removeUploadErrors=function(){var e=document.querySelector(".ctc__content-inner__middle__message--client:last-child");if(e){var n=e.previousElementSibling;n&&n.classList.contains("-error")&&n.classList.contains("_upload")&&(n.parentNode.removeChild(n),l.removeUploadErrors())}};var m=l;exports.default=m;
},{"./lib/anime.min":"rJGr","./img/email-icon.svg":"5S5K","./img/phone-icon.svg":"6FWJ","./img/contacts-icon.svg":"uPla","./img/viber-icon.svg":"L8OF","./img/whatsapp-icon.svg":"i3pw","./img/telegram-icon.svg":"2M4b","./img/messenger-icon.svg":"DZdp"}],"TXQ/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../dom"));function a(e){return e&&e.__esModule?e:{default:e}}var t='target="blank" rel="nofollow noopener"';function r(e){return'<a href="'.concat(e,'" ').concat(t,">").concat(e,"</a>")}function c(a){return'<a href="'.concat(a,'" ').concat(t,">").concat(e.default.createImageWithPreloader(a),"<")}function n(a){return'<a href="'.concat(a,'" ').concat(t,">").concat(e.default.createVideoWithPreloader(a),"<")}function o(e,a,t,r,o){var u="".concat(o,".").concat(t);switch(t){case"mp4":return n(u);default:return c(u)}}var u=function(e){return e.replace(/\b(?:https?):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,r).replace(/<a href="(.*?)\.(png|jpg|jpeg|gif|webp|mp4)"(.*?)>(.*?)\.(png|jpg|jpeg|gif|webp|mp4)\</gim,o).replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2" '.concat(t,">$2</a>")).replace(/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim,'<a href="mailto:$&" '.concat(t,">$&</a>")).replace(/(?:\r\n|\r|\n)/gim,"<br>")};exports.default=u;
},{"../dom":"fRxd"}],"+Fja":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={hours:function(e){return Math.floor(((new Date).getTime()-e)/36e5)}};exports.default=e;
},{}],"RvpT":[function(require,module,exports) {
"use strict";function e(e,t){var s=e,r=1,a=0;do{if(-1!==t.indexOf(s))break;a+=1,s>=7?s=1:s+=1,r+=1}while(r<=7);return a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,s,r){var a=new Date,n=a.toLocaleString("en-US",{timeZone:t}),i=(n=new Date(n))-a,o=n.getDay(),u=e(o,s),d=n.getHours(),l=n.getMinutes(),f=d;u>0?f=1:l>0&&(f+=1);var g=f;do{if(-1!==r.indexOf(f))break;if(f>=24){f=1,g=1;var v=o+(u+=1);v>7&&(v=1),u=e(v,s)+1}else f+=1,g+=1}while(g<=24);var M=n;M.setDate(n.getDate()+u),M.setHours(f),M.setMinutes(0),M.setSeconds(0),M.setMilliseconds(0);var c=null;return c=i>0?M.getTime()-Math.abs(i):M.getTime()+Math.abs(i),(c=new Date(c)).setHours(c.getHours()+Math.round(c.getMinutes()/60)),c.setMinutes(0),c};exports.default=t;
},{}],"xSlG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={url:"https://widget.replain.cc",websocketUrl:"wss://widget.replain.cc/ws",facebookAppId:"359204778167826",telegramBotUrl:"tg://resolve?domain=ReplainBot",storageAuthKey:"REPLAIN_AUTH",storageCacheKey:"REPLAIN_CACHE",maxCacheMessage:50,defaultLanguage:"en",languages:["en","ru","es","fa","pt","ar","de","id","uz","it","ua","cs","hi","fr"],analytics:{category:"Replain",actions:{CLIENT_OPEN_CHAT:"Client opened chat",CLIENT_SENT_ONLINE_MESSAGE:"Client sent online message",CLIENT_SENT_OFFLINE_MESSAGE:"Client sent offline message",CLIENT_SENT_CONTACT_FORM:"Client sent contact form",INVITATION_SHOWN:"Proactive invitation shown",INVITATION_ACCEPTED:"Proactive invitation accepted",INVITATION_CLOSED:"Proactive invitation closed",OPERATOR_ASSIGNED:"Operator chose to client",OPERATOR_SENT_MESSAGE:"Operator sent message"}}};exports.default=e;
},{}],"+YIT":[function(require,module,exports) {
module.exports="notification.5b812e84.mp3";
},{}],"3Fhe":[function(require,module,exports) {
var t=null;function r(){return t||(t=e()),t}function e(){try{throw new Error}catch(r){var t=(""+r.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return n(t[0])}return"/"}function n(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^\/]+$/,"$1")+"/"}exports.getBundleURL=r,exports.getBaseURL=n;
},{}],"21/1":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new s(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(u))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function u(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),u=n[i];return u?o[e]=u(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}).catch(function(r){throw delete o[e],r}):void 0}function s(r){this.executor=r,this.promise=null}s.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},s.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"3Fhe"}],"H+le":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("../cache")),t=require("../helpers/template"),s=h(require("../helpers/hostCommand")),a=h(require("../helpers/htmlEncode")),n=require("../helpers/deviceDetect"),i=h(require("../helpers/formatDateTime")),o=h(require("../helpers/linkify")),l=h(require("../helpers/diffDate")),r=h(require("../helpers/convertScheduleToLocalTime")),c=h(require("../config/app")),u=h(require("../dom")),d=h(require("../sound/notification.mp3"));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return v(e)||m(e)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function v(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}function p(e,t){return b(e)||k(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function k(e,t){var s=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(s.push(o.value),!t||s.length!==t);a=!0);}catch(r){n=!0,i=r}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return s}function b(e){if(Array.isArray(e))return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function T(e,t,s){return t&&M(e.prototype,t),s&&M(e,s),e}window.dom=u.default;var C="MESSAGE",I="WELCOME_FORM",O="FEEDBACK_FORM",E="AUTO_FEEDBACK_FORM",F="CLIENT_HISTORY",S="SUGGEST",A="FILE",_="client",L="operator",B=10,R=50,N="onload"in new XMLHttpRequest?XMLHttpRequest:window.XDomainRequest,D=function(){function h(e,t,s){w(this,h),this.chatId=e,this.clientId=null,this.token=null,this.client={},this.clientInfo=t,this.socket=null,this.settings=null,this.isOpen=!1,this.isOnceOpen=!1,this.isNew=!0,this.retryConnect=0,this.connectError=0,this.rtl=!1,this.initDone=!1,this.invitationShown=!1,this.pending=!1,this.banners=[],this.customButtons=s,this.shownBanners=!1,this.shownFeedbackForm=!1,this.operatorAssigned=!1,this.lastMessageTime=0,this.lastOperatorMessageTime=0,this.hideDefaultButton=!1,this.videoPlayer=null,this.eventClick="onclick",this.history=[],this.clientLanguage=navigator.language||navigator.userLanguage,this.silence=!1,this.buttonAnimated=!1;var a=this.clientInfo.cache.client;a&&(this.client=a),this.soundNotification=new Audio(d.default)}return T(h,[{key:"create",value:function(){this.auth()}},{key:"init",value:function(e){var t=this;if(!this.initDone){this.customButtons&&this.showCustomButtons();var a=this.settings.features.customButton;a&&a.hide&&this.enableCustomButton(),this.translation=e.default,this.initDone=!0,this.attach(),this.customize(),this.translate(),this.prepare(),this.isOpen||(0,s.default)({cmd:"widget-style",data:this.getChatIconPosition()});var n=this.clientInfo.cache,i=n.autoFeedback,o=n.client,l=this.settings.features.suggests;if(!this.settings.online&&!this.isOfflineTalk()){if(this.settings.scheduled){var r=this.settings.schedule,c=r.timezone,d=r.days,h=r.hours;c&&d.length&&h.length&&(this.settings.schedule.days.sort(),this.settings.schedule.hours.sort(),this.showReturnTime())}return this.disableChat(),void setTimeout(function(){u.default.el.showChatButton().style.display="block"},100)}if(0===this.constructor.countMessages()){var f=this.settings.startMessage;this.showMessageFromOperator({type:L,name:this.settings.name,time:Date.now(),message:f});var g=this.settings.features.videoWelcome,m=g&&!0===g.disabled;g&&!m&&g.youtubeId&&this.addVideo(g.youtubeId)}!this.settings.welcomeForm||2!==this.constructor.countMessages()||o&&o.form||this.showWelcomeForm(),l&&this.showSuggests(),this.showBanners(),!0===i&&this.isEnableAutoFeedback()&&this.autoFeedback(!0),setTimeout(function(){u.default.el.showChatButton().style.display="block",!t.isOpen&&t.clientInfo.windowSize.width>=992&&setTimeout(function(){u.default.animateWidgetButton(),t.buttonAnimated=!0},2e4),t.activeInvitation()},100)}}},{key:"getResponsivePosition",value:function(e){var t=e;return this.clientInfo.windowSize.width<768&&(t=Math.floor(t/2))<15&&(t=15),t}},{key:"getChatIconPosition",value:function(){var e={},t=this.settings.features.customButton,s=(t=void 0===t?{}:t).iconPosition;return s?("number"==typeof s.bottom?(e.bottom="".concat(this.getResponsivePosition(s.bottom),"px"),e.top="auto"):"number"==typeof s.top&&(e.bottom="auto",e.top="".concat(this.getResponsivePosition(s.top),"px")),"number"==typeof s.right?(e.right="".concat(this.getResponsivePosition(s.right),"px"),e.left="auto"):"number"==typeof s.left&&(e.right="auto",e.left="".concat(this.getResponsivePosition(s.left),"px"))):(e.bottom="20px",e.top="auto",e[this.rtl?"left":"right"]="20px",e[this.rtl?"right":"left"]="auto"),e}},{key:"getChatWindowPosition",value:function(){var e={bottom:"0",top:"auto"},t=this.settings.features.customButton,s=(t=void 0===t?{}:t).iconPosition;return s?"number"==typeof s.right?(e.right="0",e.left="auto"):"number"==typeof s.left&&(e.right="auto",e.left="0"):(e[this.rtl?"left":"right"]="0px",e[this.rtl?"right":"left"]="auto"),e}},{key:"getOfflineSessionKeyName",value:function(){return"REPLAIN_OFFLINE_TALK_".concat(this.chatId)}},{key:"getOfflineTalkSessionKey",value:function(){var e=this.getOfflineSessionKeyName();try{if(sessionStorage[e])return JSON.parse(sessionStorage[e])}catch(t){console.error(t)}return!1}},{key:"setOfflineTalkSessionKey",value:function(e){try{sessionStorage[this.getOfflineSessionKeyName()]=e}catch(t){console.error(t)}}},{key:"isOfflineTalk",value:function(){return!0===this.getOfflineTalkSessionKey()}},{key:"receiveUpdate",value:function(){this.silence||this.hideDefaultButton&&(0,s.default)({cmd:"widget-style",data:{display:"block"}})}},{key:"showReturnTime",value:function(){var e=(0,r.default)(this.settings.schedule.timezone,this.settings.schedule.days,this.settings.schedule.hours);if(e){var t=this.getReturnMessage(e);!1!==t&&this.constructor.showReturnMessage(t)}}},{key:"getReturnMessage",value:function(e){var t=new Date,s=e.getMinutes().toString(),a=e.getHours().toString();1===s.length&&(s="0".concat(s)),1===a.length&&(a="0".concat(a));var n="".concat(a,":").concat(s),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=new Date(i.valueOf()+864e5),l=this.translation.UI.OPERATOR_RETURN_TIME;return!1!==(l=o-e>0?l.replace("{day}",this.translation.UI.TODAY):new Date(o.valueOf()+864e5)-e>0&&l.replace("{day}",this.translation.UI.TOMORROW))&&(l=l.replace("{time}",n)),l}},{key:"addVideo",value:function(e){var t=this;this.constructor.addExternalScript("https://www.youtube.com/iframe_api");var s="player-".concat(Date.now());window.onYouTubeIframeAPIReady=function(){var a=new window.YT.Player(s,{width:"100%",height:"175px",videoId:e,playerVars:{rel:0,mute:1,autoplay:1,loop:1,cc_load_policy:1,modestbranding:1},events:{onReady:function(){u.default.autoTextAreaScroll(),t.videoPlayer=a,t.isOpen||a.stopVideo()}}});document.getElementById(s).onmouseover=function(){t.videoPlayer&&(a.playVideo(),a.unMute())}},u.default.el.messagesBlock().insertAdjacentHTML("beforeend",'<div class="video-player"><div id="'.concat(s,'"></div></div>'))}},{key:"activeInvitation",value:function(){var e=this.settings.features.activeInvitation,t=e&&!1===e.enabled;if(!this.clientInfo.cache.shown&&!t){var s=this.clientInfo.windowSize.width,a=1e3*(e&&e.timeout?e.timeout:42),n=s<992?2e4:42e3;this.startActiveInvitation(a,n)}}},{key:"startActiveInvitation",value:function(e,t){var s=this;this.clientInfo.cache.hideWidgetMessage?setInterval(function(){s.clientInfo.cache.shown||s.isOpen||s.buttonAnimated||u.default.animateWidgetButton()},t):setTimeout(function(){s.clientInfo.cache.shown||s.isOpen||(s.logEventToAnalytics(c.default.analytics.actions.INVITATION_SHOWN),s.constructor.setCountUnreaded(1),s.invitationShown=!0,s.receiveUpdate(),s.showPopup(s.settings.startMessage,300))},e)}},{key:"connect",value:function(){this.socket=new WebSocket("".concat(c.default.websocketUrl,"?status=").concat(this.initDone?1:0,"&chatId=").concat(encodeURIComponent(this.chatId),"&clientId=").concat(encodeURIComponent(this.clientId),"&token=").concat(encodeURIComponent(this.token),"&page=").concat(encodeURIComponent(this.clientInfo.currentUrl),"&lang=").concat(this.clientLanguage)),this.socket.onmessage=this.onMessage.bind(this),this.socket.onopen=this.onOpenConnection.bind(this),this.socket.onclose=this.onCloseConnection.bind(this),this.socket.onerror=this.constructor.onErrorConnection.bind(this)}},{key:"onOpenConnection",value:function(){var e=this,t=u.default.el.mainBlock();"block"!==t.style.display&&(t.style.display="block"),this.initDone&&this.onReconnect(),(this.retryConnect>0||this.pending)&&setTimeout(function(){e.constructor.enableControls();var t=u.default.el.textMessage();t.placeholder=t.getAttribute("data-placeholder"),e.checkErrorConnection()},500),this.retryConnect=0,this.connectError=0,this.pending&&(this.pending=!1)}},{key:"onCloseConnection",value:function(e){var t=this;if(this.connectError=e.code,0===this.retryConnect){this.constructor.disableControls();var s=u.default.el.textMessage();s.setAttribute("data-placeholder",s.placeholder),this.settings&&this.settings.lang?s.placeholder=this.translation.UI.WAIT_TEXT:s.placeholder=""}4002!==this.connectError&&4003!==this.connectError&&setTimeout(function(){t.retryConnect+=1,t.retryConnect<=B&&t.connect()},1e3*(Math.floor(Math.random()*R)+3))}},{key:"onReconnect",value:function(){this.isNew||this.loadHistory()}},{key:"auth",value:function(){var t=this.clientInfo.auth,s=t.token,a=t.clientId,n=this.clientInfo.cache.messages;this.isNew=!n||!n.length;var i=this,o=new FormData;o.append("isNew",this.isNew?1:0),o.append("chatId",encodeURIComponent(this.chatId)),o.append("clientId",encodeURIComponent(a)),o.append("token",encodeURIComponent(s));var l=new N;l.open("POST","".concat(c.default.url,"/auth"),!0),l.onload=function(){if(200===this.status){var t=[];try{var n=JSON.parse(this.responseText);s=n.token,a=n.clientId,t=n.history}catch(o){return void console.error(o)}e.default.update(c.default.storageAuthKey,{token:s,clientId:a}),i.clientId=a,i.token=s,i.history=t,i.connect()}},l.send(o)}},{key:"loadHistory",value:function(){var e=this,t=new FormData;t.append("chatId",encodeURIComponent(this.chatId)),t.append("clientId",encodeURIComponent(this.clientId)),t.append("token",encodeURIComponent(this.token));var s=new N;s.open("POST","".concat(c.default.url,"/history"),!0),s.onload=function(){if(200===this.status){var t=[];try{t=JSON.parse(this.responseText).history}catch(s){return void console.error(s)}t.length&&(e.history=t,e.showHistory())}},s.send(t)}},{key:"showHistory",value:function(){var e=this,t=this.history,s=void 0===t?[]:t;if(s.length){this.silence=!0;var a=1;s.forEach(function(t){var n=t.data,i=void 0===n?{}:n,o=t.text,l=t.sender,r=i.command;s.length===a&&(e.silence=!1),r?e.onCommandMessage({data:{command:r,data:i.data},from:t.sender}):e.onTextMessage({data:o,from:l}),a+=1})}}},{key:"send",value:function(e,t){this.socket.send(JSON.stringify({type:e,data:t}))}},{key:"checkErrorConnection",value:function(){4001===this.connectError&&(u.default.el.textMessage().value=u.default.el.lastMessageText().innerHTML,u.default.el.messagesBlock().removeChild(u.default.el.lastMessage()),this.constructor.showInfoMessage(this.translation.UI.ERROR_LIMIT_MESSAGES))}},{key:"onMessage",value:function(e){try{var t=JSON.parse(e.data);switch(t.type){case"MESSAGE":this.onTextMessage(t);break;case"CMD":this.onCommandMessage(t)}}catch(s){console.error(s)}}},{key:"onTextMessage",value:function(t){if(t.data.length){this.logEventToAnalytics(c.default.analytics.actions.OPERATOR_SENT_MESSAGE);var s={type:L,name:t.from,time:Date.now(),message:t.data};this.lastOperatorMessageTime=s.time,this.operatorAssigned=!0,e.default.update(c.default.storageCacheKey,{autoFeedback:!1}),this.receiveUpdate(),this.showMessageFromOperator(s),this.saveCacheMessage(s),this.notifyAboutNewMessage(t.data)}}},{key:"pingMessage",value:function(e){if(!this.initDone){this.settings=e;var t=this.settings.features.customButton,s=(t=void 0===t?{}:t).iconPosition;this.settings.features.banners&&this.loadBanners(),s&&("number"==typeof s.left&&u.default.el.mainBlock().classList.add("ctc--left"),"number"==typeof s.top&&u.default.el.mainBlock().classList.add("ctc--top"));var a=this.settings.lang;if("auto"===a&&this.clientInfo.language)a=p(this.clientInfo.language.split("-"),1)[0];switch(a){case"ru":require("_bundle_loader")(require.resolve("../locales/ru.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"ua":require("_bundle_loader")(require.resolve("../locales/ua.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"es":require("_bundle_loader")(require.resolve("../locales/es.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"pt":require("_bundle_loader")(require.resolve("../locales/pt.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"de":require("_bundle_loader")(require.resolve("../locales/de.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"id":require("_bundle_loader")(require.resolve("../locales/id.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"uz":require("_bundle_loader")(require.resolve("../locales/uz.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"it":require("_bundle_loader")(require.resolve("../locales/it.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"pl":require("_bundle_loader")(require.resolve("../locales/pl.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"ar":this.enableRtl(),require("_bundle_loader")(require.resolve("../locales/ar.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"fa":this.enableRtl(),require("_bundle_loader")(require.resolve("../locales/fa.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"cs":require("_bundle_loader")(require.resolve("../locales/cs.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"hi":require("_bundle_loader")(require.resolve("../locales/hi.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;case"fr":require("_bundle_loader")(require.resolve("../locales/fr.js")).then(this.init.bind(this)).catch(function(e){console.error(e)});break;default:require("_bundle_loader")(require.resolve("../locales/en.js")).then(this.init.bind(this)).catch(function(e){console.error(e)})}}}},{key:"onCommandMessage",value:function(e){var t=e.from,s=e.data,a=s.command,n=s.data;switch(a){case"PING":this.pingMessage(n);break;case"SHOW_WELCOME_FORM":this.showWelcomeForm();break;case"SHOW_VIDEO_WELCOME":this.showVideoWeclome(n);break;case"ASSIGN_OPERATOR":this.assignOperator(t);break;case"PENDING":this.setPending();break;case"SHOW_BANNER":this.showBanner(n);break;case"GET_USER_INFO":this.sendUserInfo();break;case"GET_HISTORY":this.sendHistory(n);break;case"FILE":this.onFileCommand(n)}}},{key:"showSuggests",value:function(){this.settings.suggests&&this.settings.suggests.length>0&&(!0===this.renderSuggests(this.settings.suggests)&&(u.default.autoTextAreaScroll(),u.default.el.suggests[this.eventClick]=this.suggestClick.bind(this)))}},{key:"getUsedSuggests",value:function(){var e=this.clientInfo.cache.suggests;return e=e?e.used:[]}},{key:"setUsedSuggest",value:function(t){var s=this.getUsedSuggests();-1===s.indexOf(t)&&(s.push(t),e.default.update(c.default.storageCacheKey,{suggests:{used:s}}))}},{key:"suggestClick",value:function(e){var t=this,s=e.target;if(s.classList.contains("ctc__suggests__item__link")){var a=s.textContent,n=s.getAttribute("data-id");u.default.el.messagesBlock().removeChild(u.default.el.suggests.parentNode);var i={type:_,time:Date.now(),message:a};this.showMessageFromClient(i),this.saveCacheMessage(i),this.setUsedSuggest(n),setTimeout(function(){t.send(S,{suggestId:n}),setTimeout(function(){t.settings.welcomeForm&&t.isNew&&t.showWelcomeForm(),t.settings.suggests.forEach(function(e,s){e.id===n&&delete t.settings.suggests[s]}),t.isNew=!1,t.showSuggests()},1e3)},2e3)}}},{key:"sendHistory",value:function(e){var t=this.clientInfo.cache.messages,s=0,a=[];f(t||[]).reverse().forEach(function(e){!0!==e.internal&&s+e.message.length<5e3&&(s+=e.message.length,a.push(e))}),this.send(F,{operatorId:e.operatorId,messages:a})}},{key:"sendUserInfo",value:function(){var e=this.clientInfo.windowSize,t=e.width,s=e.height;this.send(C,(0,a.default)("".concat(navigator.userAgent," / ").concat(t,"x").concat(s," / ").concat(this.clientLanguage.toUpperCase()," / ").concat(this.clientInfo.currentUrl)))}},{key:"callAPI",value:function(e){var t=e.method;e.params;if(-1!==this.settings.jsApi.indexOf(t))switch(t){case"open":this.show()}}},{key:"setPending",value:function(){this.pending=!0}},{key:"visibilityChanged",value:function(e){this.pending&&!e&&this.connect()}},{key:"assignOperator",value:function(t){this.operatorAssigned=!0,e.default.update(c.default.storageCacheKey,{autoFeedback:!1}),this.clientInfo.cache.operator!==t&&(this.logEventToAnalytics(c.default.analytics.actions.OPERATOR_ASSIGNED),e.default.update(c.default.storageCacheKey,{operator:t}),this.constructor.showInfoMessage("".concat(t," ").concat(this.translation.UI.ASSIGN_OPERATOR))),this.settings.online||(this.enableChat(),this.setOfflineTalkSessionKey(!0),u.default.removeFeedbackForms())}},{key:"resizeScreen",value:function(){this.clientInfo.windowSize.width<992?this.makeFullscreen():this.makeNormalScreen()}},{key:"updateWindowSize",value:function(e){this.clientInfo.windowSize=e,this.isOpen?this.resizeScreen():this.resizeWidgetMessage()}},{key:"customize",value:function(){u.default.el.chatName().innerHTML=this.settings.name,u.default.el.chatStatus().innerHTML=this.settings.description,u.default.el.dropFilesBlockHeader().innerHTML=this.translation.UI.DROP_FILES_HEADER,u.default.el.dropFilesBlockText().innerHTML=this.translation.UI.DROP_FILES_TEXT.replace("{count}","5"),this.settings.logo.length&&(u.default.el.chatLogo().style.backgroundImage='url("'.concat(this.settings.logo,'")'),u.default.el.chatLogoBlock().style.display="inline-block"),u.default.changeAccentColor(this.settings.color),this.settings.colorLight&&u.default.el.mainBlock().classList.add("ctc--light"),(0,n.isMobile)().any?u.default.el.mainBlock().classList.add("-ctc-mobile"):u.default.el.mainBlock().classList.add("-ctc-desktop")}},{key:"translate",value:function(){var e=this.translation.UI;u.default.el.textMessage().placeholder=e.TEXT_MESSAGE_TITLE,u.default.el.buttonMessage().setAttribute("title",e.BTN_MESSAGE_TITLE),u.default.el.showChatButton().setAttribute("title",e.SHOW_CHAT_BTN_TITLE),u.default.el.closeChatButton().setAttribute("title",e.CLOSE_CHAT_BTN_TITLE)}},{key:"enableRtl",value:function(){this.rtl=!0;var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","../style-rtl.css?".concat(Date.now())),document.getElementsByTagName("head")[0].appendChild(e),u.default.el.mainBlock().classList.add("ctc--rtl")}},{key:"enableChat",value:function(){u.default.el.mainBlock().classList.remove("ctc--offline"),u.default.el.chatStatus().classList.add(u.default.class.chatOnline),u.default.el.returnNotification().classList.remove("_active"),this.constructor.enableControls()}},{key:"disableChat",value:function(){this.showMessageFromOperator({type:L,name:this.settings.name,time:Date.now(),message:this.settings.offlineMessage||this.translation.UI.FEEDBACK_MESSAGE}),u.default.el.mainBlock().classList.add("ctc--offline"),u.default.el.chatStatus().classList.remove(u.default.class.chatOnline),this.constructor.disableControls(),this.showFeedbackForm()}},{key:"notifyAboutNewMessage",value:function(t){this.silence||(e.default.update(c.default.storageCacheKey,{hideWidgetMessage:!1}),this.isOpen||(this.increaseCountUnreaded(),this.showPopup(t,300)),document.hidden&&this.notifyAboutNewMessageOnTab())}},{key:"resizeWidgetMessage",value:function(){if(u.default.el.widgetMessageText().innerHTML.length){var e=u.default.el.widgetMessage(),t=e.style.display,a=this.clientInfo.windowSize.width<=400,n=a?"290":"350";e.style.opacity=0,e.style.display="block",e.style.width="".concat(a?185:245,"px"),!a&&this.hideDefaultButton&&(e.style.width="310px"),a&&this.hideDefaultButton&&(n="215");var i=e.clientHeight;i=i<64?64:i+16,(0,s.default)({cmd:"widget-style",data:Object.assign({action:"resize-widest-message",width:"".concat(n,"px"),height:"".concat(i+10,"px")},this.getChatIconPosition())}),e.style.display=t,e.style.opacity=1}}},{key:"showPopup",value:function(e,t){var s=this,a=e;t&&(a=a.trim().substr(0,t).trim(),e.length>t&&(a+="")),u.default.el.widgetMessageText().innerHTML=a,setTimeout(function(){s.resizeWidgetMessage(),u.default.el.widgetMessage().style.display="block"},101),setTimeout(function(){u.default.el.unreadedCount().style.display="block"},100),this.playNotification()}},{key:"notifyAboutNewMessageOnTab",value:function(){(0,s.default)({cmd:"new-message",data:this.translation.UI.NEW_MESSAGE_NOTIFY_TEXT}),this.playNotification()}},{key:"sendMessage",value:function(){var e=this,t=this.clientInfo.cache,s=t.messages,n=t.client,i=u.default.el.textMessage().value.trim().substr(0,1e3),o=(0,a.default)(i);if(o.length){this.logEventToAnalytics(c.default.analytics.actions.CLIENT_SENT_ONLINE_MESSAGE),this.isEnableAutoFeedback()&&this.autoFeedback(this.isNew),this.isNew=!1,this.send(C,i),s||this.saveCacheMessage({type:L,name:this.settings.name,time:Date.now(),internal:!0,message:this.settings.startMessage});var l={type:_,time:Date.now(),message:o};this.showMessageFromClient(l),this.saveCacheMessage(l),!this.settings.welcomeForm||void 0!==s&&2!==s.length||n&&n.form||setTimeout(function(){e.showWelcomeForm()},600)}return u.default.resetFormMessage(),!1}},{key:"isEnableAutoFeedback",value:function(){var e=this.settings.features.forms;return void 0!==(void 0===e?{}:e).autoFeedback}},{key:"autoFeedback",value:function(t){var s=this,a=this.settings.features.forms.autoFeedback,n=a.timeout,i=a.disabled,o=this.lastOperatorMessageTime&&l.default.hours(this.lastOperatorMessageTime)<1;i||o&&!t||(e.default.update(c.default.storageCacheKey,{autoFeedback:!0}),setTimeout(function(){s.shownFeedbackForm||s.operatorAssigned||s.showAutoFeedbackForm()},1e3*n))}},{key:"sendWelcomeForm",value:function(t){t.preventDefault&&t.preventDefault();var s=t.target,n={},i="";if(s.querySelectorAll(".-field").forEach(function(e){var t=e.getAttribute("name"),s=e.getAttribute("placeholder"),o=(0,a.default)(e.value.trim());i+="".concat(s,": ").concat(o||"","\n"),n[t]=o}),!this.validateForm(s,n))return!1;this.logEventToAnalytics(c.default.analytics.actions.CLIENT_SENT_CONTACT_FORM);var o={type:_,time:Date.now(),internal:!1,message:i};return this.showMessageFromClient(o),this.saveCacheMessage(o),this.send(I,Object.assign({},n,{datetime:(new Date).toLocaleString(),timestamp:+new Date,timezoneOffset:(new Date).getTimezoneOffset()})),this.client=Object.assign(this.client,{form:n}),e.default.update(c.default.storageCacheKey,{client:this.client}),t.target.parentNode.parentNode.removeChild(t.target.parentNode),this.constructor.enableControls(),!1}},{key:"sendFeedback",value:function(t){t.preventDefault&&t.preventDefault();var s=t.target,n=s.querySelector('textarea[name="message"]'),i=n.value.trim().substr(0,1e3),o={},l="";s.querySelectorAll(".-field").forEach(function(e){var t=e.getAttribute("name"),s=e.getAttribute("placeholder"),n=(0,a.default)(e.value.trim());l+="".concat(s,": ").concat(n||"","\n"),o[t]=n}),l+="".concat(n.getAttribute("placeholder"),": ").concat(i||"","\n");var r=!1;if(i.length||(r=!0,n.classList.add("error")),!this.validateForm(s,o)||r)return!1;this.logEventToAnalytics(c.default.analytics.actions.CLIENT_SENT_OFFLINE_MESSAGE);var d={type:_,time:Date.now(),internal:!1,message:l};return this.showMessageFromClient(d),this.saveCacheMessage(d),this.send(O,Object.assign({},o,{message:i,datetime:(new Date).toLocaleString(),timestamp:+new Date,timezoneOffset:(new Date).getTimezoneOffset()})),this.client=Object.assign(this.client,{form:o}),e.default.update(c.default.storageCacheKey,{client:this.client}),this.hide(),s.reset(),this.settings.online&&(u.default.el.messagesBlock().removeChild(s.parentNode.previousSibling.previousSibling),u.default.el.messagesBlock().removeChild(s.parentNode)),!1}},{key:"sendAutoFeedback",value:function(e){e.preventDefault&&e.preventDefault();var t=e.target,s=u.default.el.formActiveContent().querySelector("input"),a=s.getAttribute("name");return!!s.value.trim()&&(this.send(E,{type:a,payload:s.value}),this.showMessageFromOperator({type:L,name:this.settings.name,time:Date.now(),message:this.translation.FORM.AUTO_FEEDBACK_SUBMITED.replace("{type}",a.charAt(0).toUpperCase()+a.slice(1))}),t.reset(),!1)}},{key:"getFileData",value:function(e,t){var s=t.split(".");if(s.length<=1)return!1;s=s[s.length-1];var a={class:"",text:""};return-1!==["png","jpg","jpeg","gif","webp","mp4"].indexOf(s)?(a.class=u.default.msgContentTypes.image,a.text=(0,o.default)(e)):(a.class="".concat(u.default.msgContentTypes.file," _").concat(s.replace(/[^a-zA-Z0-9]/g,"")),a.text=this.constructor.buildFileLink(e,t)),a}},{key:"showMessageFromClient",value:function(e){var s=e.type,a=e.time,n=e.message;this.constructor.renderMessage((0,t.template)("ctc-message-tmpl",{type:s,name:this.translation.UI.YOU,time:a?", ".concat((0,i.default)(a,this.translation.UI.SHORT_MONTHS)):"",text:(0,o.default)(n).replace(/\n/g,"<br>")}))}},{key:"showMessageFromOperator",value:function(e){var s=e.type,n=e.time,l=e.message,r=e.name;r&&r.length||(r=this.clientInfo.cache.operator),this.constructor.renderMessage((0,t.template)("ctc-message-tmpl",{type:s,name:r,time:n?", ".concat((0,i.default)(n,this.translation.UI.SHORT_MONTHS)):"",text:(0,o.default)((0,a.default)(l.trim()).replace(/\n/g,"<br>"))}))}},{key:"showFileFromOperator",value:function(e){var s=e.fileName,a=e.message,n=this.getFileData(a,s);if(!1!==n){var o=e.type,l=e.time,r=e.name;r&&r.length||(r=this.clientInfo.cache.operator),this.constructor.renderMessage((0,t.template)("ctc-message-tmpl",{type:o,name:r,time:l?", ".concat((0,i.default)(Date.now(),this.translation.UI.SHORT_MONTHS)):"",text:n.text,class:n.class}))}}},{key:"showFileFromClient",value:function(e){var s=e.fileName,a=e.message,n=this.getFileData(a,s);if(!1!==n){var o=e.type,l=e.time;this.constructor.renderMessage((0,t.template)("ctc-message-tmpl",{type:o,name:this.translation.UI.YOU,time:l?", ".concat((0,i.default)(Date.now(),this.translation.UI.SHORT_MONTHS)):"",text:n.text,class:n.class}))}}},{key:"onFileCommand",value:function(t){var s=t.name,a=t.url;if(!1!==this.getFileData(a,s)){var n={type:L,time:Date.now(),message:a,isFile:!0,fileName:s};this.logEventToAnalytics(c.default.analytics.actions.OPERATOR_SENT_MESSAGE),this.lastOperatorMessageTime=n.time,this.operatorAssigned=!0,e.default.update(c.default.storageCacheKey,{autoFeedback:!1}),this.receiveUpdate(),this.showFileFromOperator(n),this.saveCacheMessage(n),this.notifyAboutNewMessage(s)}}},{key:"isActiveForm",value:function(){var e=!1;return this.settings.forms.fields.forEach(function(t){t.hide||(e=!0)}),e}},{key:"activeFormFields",value:function(){var e=[],t=this.client.form;return this.settings.forms.fields.forEach(function(s){var a=s;a.hide||(a.value=t&&t[a.key]?t[a.key]:"",e.push(a))}),e}},{key:"validateForm",value:function(e,t){var s=!1;return this.activeFormFields().forEach(function(a){var n=e.querySelector('input[name="'.concat(a.key,'"]'));if(!a.required||t[a.key]&&t[a.key].length||(s=!0,n.classList.add("error")),"tel"===a.type&&t.phone){var i=t.phone.replace(/\D+/g,"");(i.length<=5||i.split("").every(function(e,t,s){return e===s[0]}))&&(s=!0,n.classList.add("error"))}}),!s}},{key:"showVideoWeclome",value:function(e){this.addVideo(e)}},{key:"showWelcomeForm",value:function(){if(this.isActiveForm()){this.showMessageFromOperator({type:L,name:this.settings.name,time:Date.now(),message:this.settings.forms.welcomeMessage||this.translation.UI.MEET_MESSAGE});var e=(0,t.templateText)(u.default.createWelcomeForm(this.activeFormFields()),this.translation.FORM);u.default.el.messagesBlock().insertAdjacentHTML("beforeend",e),this.settings.privacy&&this.settings.privacy.active&&this.settings.privacy.text&&this.createPrivacy(),u.default.autoTextAreaScroll();var s=u.default.el.lastForm();s.onsubmit=this.sendWelcomeForm.bind(this),s.querySelectorAll("input, textarea").forEach(function(e){var t=e;t.oninput=function(){t.classList.remove("error")}}),s.querySelector("input").focus()}}},{key:"showFeedbackForm",value:function(){this.shownFeedbackForm=!0;var e=(0,t.templateText)(u.default.createFeedbackForm(this.activeFormFields()),this.translation.FORM);u.default.el.messagesBlock().insertAdjacentHTML("beforeend",e),this.settings.privacy&&this.settings.privacy.active&&this.settings.privacy.text&&this.createPrivacy(),u.default.autoTextAreaScroll();var s=u.default.el.lastForm();s.onsubmit=this.sendFeedback.bind(this),s.querySelectorAll("input, textarea").forEach(function(e){var t=e;t.oninput=function(){t.classList.remove("error")}})}},{key:"showAutoFeedbackForm",value:function(){var e=this;this.shownFeedbackForm=!0;var s=(0,o.default)(this.settings.features.forms.autoFeedback.contactsText),a=this.settings.features.forms.autoFeedback.messengers,n=this.clientInfo.cache.client,i=(void 0===n?{}:n).form,l=void 0===i?{}:i;if(a.length){var r=(0,t.templateText)(u.default.createAutoFeedbackForm(l,a,s),this.translation.FORM);u.default.el.messagesBlock().insertAdjacentHTML("beforeend",r);var c=!1;u.default.el.formTabHeaderLinks().forEach(function(t,s){var a=t,n=a.parentNode;"none"!==getComputedStyle(n).display&&!1===c&&(a.classList.add("-selected"),u.default.el.formTabContents()[s].classList.add("-active"),c=!0),a[e.eventClick]=function(){u.default.el.formActiveTabHeaderLink().classList.remove("-selected"),u.default.el.formActiveContent().classList.remove("-active"),u.default.el.formTabSubmit().style.display="none","true"===a.getAttribute("data-textfield")&&(u.default.el.formTabSubmit().style.display="block"),a.classList.add("-selected"),u.default.el.formTabContents()[s].classList.add("-active")}}),u.default.autoTextAreaScroll();var d=u.default.el.lastForm();d.onsubmit=this.sendAutoFeedback.bind(this),d.querySelectorAll("input, textarea").forEach(function(e){var t=e;t.oninput=function(){t.classList.remove("error")}})}}},{key:"show",value:function(t){t&&t.preventDefault&&t.preventDefault(),u.default.el.widgetMessageText().innerHTML="",t&&u.default.el.widgetMessageClose()===t.target?this.widgetMessageClose():(this.videoPlayer&&this.videoPlayer.playVideo(),this.invitationShown&&this.logEventToAnalytics(c.default.analytics.actions.INVITATION_ACCEPTED),this.logEventToAnalytics(c.default.analytics.actions.CLIENT_OPEN_CHAT),e.default.update(c.default.storageCacheKey,{shown:!0}),this.isOpen=!0,this.isOnceOpen=!0,this.invitationShown=!1,this.resetCountUnreaded(),this.banners.length&&!this.shownBanners&&this.showBanners(),u.default.el.showChatButton().style.display="none",u.default.el.widgetMessage().style.display="none",this.resizeScreen(),setTimeout(function(){u.default.el.mainBlock().classList.add(u.default.class.mainOpen),setTimeout(function(){u.default.el.innerBlock().classList.add(u.default.class.innerOpen),u.default.autoTextAreaScroll(),u.default.el.textMessage().focus()},200)},16))}},{key:"hide",value:function(e){var t=this;e&&e.preventDefault&&e.preventDefault(),this.isOpen=!1,this.videoPlayer&&this.videoPlayer.stopVideo(),u.default.el.innerBlock().classList.remove(u.default.class.innerOpen),setTimeout(function(){u.default.el.mainBlock().classList.remove(u.default.class.mainOpen),u.default.el.contentBlock().style.setProperty("width","",""),setTimeout(function(){(0,s.default)({cmd:"widget-style",data:Object.assign({action:"hide",display:t.hideDefaultButton?"none":"block",width:"70px",height:"70px"},t.getChatIconPosition())}),setTimeout(function(){u.default.el.showChatButton().style.display="block"},16)},200)},200)}},{key:"attach",value:function(){var e=this;u.default.el.showChatButton()[this.eventClick]=this.show.bind(this),u.default.el.widgetMessage()[this.eventClick]=this.show.bind(this),u.default.el.closeChatButton()[this.eventClick]=this.hide.bind(this),u.default.el.widgetMessageClose()[this.eventClick]=function(){return e.widgetMessageClose()},u.default.el.formMessage().onsubmit=this.sendMessage.bind(this),u.default.el.buttonMessage()[this.eventClick]=function(){u.default.el.textMessage().focus()},u.default.el.textMessage().onkeypress=function(e){13!==e.which||e.shiftKey||(u.default.el.formMessage().onsubmit(),e.preventDefault())},u.default.el.poweredLink()[this.eventClick]=function(e){u.default.el.innerBlock().classList.contains(u.default.class.innerOpen)||e.preventDefault()},u.default.el.attachmentInput().onchange=this.sendAttachments.bind(this),u.default.el.contentBlock().ondragenter=this.constructor.handleDragenter.bind(this),u.default.el.contentBlock().ondragover=this.constructor.handleDragover.bind(this),u.default.el.dropFilesBlock().ondragleave=this.constructor.handleDragleave.bind(this),u.default.el.dropFilesBlock().ondrop=this.constructor.handleDrop.bind(this)}},{key:"updateCache",value:function(e){var t=null;try{t=JSON.parse(e)}catch(o){return void console.error(o)}if(t){var s=t,a=s.messages,n=s.operator;if(a&&a.length){n&&(this.clientInfo.cache.operator=n);var i=a.pop();i.internal||i.time<=this.lastMessageTime||this.showMessage(i)}}}},{key:"showMessage",value:function(e){var t=null;return this.lastMessageTime=e.time,e.type===L?(this.lastOperatorMessageTime=e.time,!0===e.isFile?this.showFileFromOperator(e):this.showMessageFromOperator(e),t=e.message):!0===e.isFile?this.showFileFromClient(e):this.showMessageFromClient(e),t}},{key:"prepare",value:function(){var e=this,t=this.clientInfo.cache,s=t.messages,a=t.unreadedCount,n=t.hideWidgetMessage,i=null;s&&s.forEach(function(t){i=e.showMessage(t)}),this.history&&this.history.length?this.showHistory():a&&(this.constructor.setCountUnreaded(a),this.showCountUnreaded(),!n&&i&&(this.receiveUpdate(),this.showPopup(i,300)))}},{key:"createPrivacy",value:function(){u.default.createPrivacy(this.settings.privacy.text);var e=u.default.el.middleFormAgreement(),t=u.default.el.middleFormButton();t.disabled=!0,u.default.el.middleFormAgreementCheckbox().querySelector("input")[this.eventClick]=function(){e.classList.toggle("-ctc-active"),e.classList.contains("-ctc-active")?t.disabled=!1:t.disabled=!0}}},{key:"playNotification",value:function(){var e=this.soundNotification.play();void 0!==e&&e.catch(function(){return null})}},{key:"saveCacheMessage",value:function(t){var s=this.clientInfo.cache.messages;s||(s=[]),s.push(t),s=s.slice(-c.default.maxCacheMessage),e.default.update(c.default.storageCacheKey,{messages:s})}},{key:"widgetMessageClose",value:function(){this.invitationShown&&this.logEventToAnalytics(c.default.analytics.actions.INVITATION_CLOSED),this.invitationShown=!1,u.default.el.widgetMessageText().innerHTML="",u.default.el.widgetMessage().style.display="none",e.default.update(c.default.storageCacheKey,{hideWidgetMessage:!0}),(0,s.default)({cmd:"widget-style",data:Object.assign({action:"widest-message-close",display:this.hideDefaultButton?"none":"block",width:"70px",height:"70px"},this.getChatIconPosition())})}},{key:"makeFullscreen",value:function(){u.default.el.showChatButton().style.display="none",u.default.el.contentBlock().style.setProperty("width","100%","important"),(0,s.default)({cmd:"widget-style",data:Object.assign({action:"show",display:"block",width:"100%",height:"100%"},this.getChatWindowPosition())})}},{key:"makeNormalScreen",value:function(){u.default.el.contentBlock().style.setProperty("width","",""),(0,s.default)({cmd:"widget-style",data:Object.assign({action:"show",display:"block",width:"360px",height:"100%"},this.getChatWindowPosition())})}},{key:"increaseCountUnreaded",value:function(){this.constructor.setCountUnreaded(Number(u.default.el.unreadedCount().innerHTML)+1)}},{key:"resetCountUnreaded",value:function(){this.constructor.setCountUnreaded(0),u.default.el.unreadedCount().style.display="none"}},{key:"showCountUnreaded",value:function(){(0,s.default)({cmd:"widget-style",data:Object.assign({width:"70px",height:"70px"},this.getChatIconPosition())}),setTimeout(function(){u.default.el.unreadedCount().style.display="block"},100)}},{key:"logEventToAnalytics",value:function(e){this.settings.features.analytics&&(0,s.default)({cmd:"log-event",data:{category:c.default.analytics.category,action:e}})}},{key:"loadBanners",value:function(){var e=this,t=new N;t.open("POST","".concat(c.default.url,"/banners"),!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){if(200===this.status)try{e.banners=JSON.parse(this.responseText),e.banners.length&&e.searchOverlayBanners(),e.banners.length&&e.isOnceOpen&&!e.shownBanners&&e.showBanners()}catch(t){console.error(t)}},t.send("chatId=".concat(encodeURIComponent(this.chatId),"&clientId=").concat(encodeURIComponent(this.clientId),"&token=").concat(encodeURIComponent(this.token)))}},{key:"showBanner",value:function(e){var t=e.name,s=e.text,a=e.url,n=e.image;this.constructor.renderMessage(u.default.createBanner(t,s,a,n))}},{key:"searchOverlayBanners",value:function(){var e=!1;return this.banners.forEach(function(t){t.popup&&(e=!0)}),!0===e&&(0,s.default)({cmd:"show-overlay-banners",data:{}}),e}},{key:"getBanners",value:function(){var e=[],t=this.settings.features.banners,a=void 0===t?{}:t,n=a.startTime,i=void 0===n?10:n,o=a.changeTime,l=void 0===o?10:o;this.banners.forEach(function(t){var s=t.name,a=t.text,n=t.url,i=t.popup,o=t.image;i&&e.push({id:t.id,name:s,text:a,url:n,image:o})}),(0,s.default)({cmd:"banners-received",data:{banners:e,settings:{rtl:this.rtl,changeTimeout:1e3*l,startTimeout:1e3*i,stayClosedTime:10800}}})}},{key:"showBanners",value:function(){var e=this;if(!this.shownBanners){this.banners.length&&(this.shownBanners=!0);var t=this.lastMessageTime&&l.default.hours(this.lastMessageTime)<1;this.banners.forEach(function(s){var a=s.name,n=s.text,i=s.url,o=s.image;if(!s.hide){var l=u.default.createBanner(a,n,i,o);t?e.constructor.renderFirstMessage(l):e.constructor.renderMessage(l)}})}}},{key:"showCustomButtons",value:function(){-1!==this.settings.jsApi.indexOf("open")&&(0,s.default)({cmd:"show-custom-button",data:u.default.createCustomButton(this.settings.color,this.settings.colorLight)})}},{key:"enableCustomButton",value:function(){u.default.el.mainBlock().classList.add("_custom_button"),this.hideDefaultButton=!0,(0,s.default)({cmd:"widget-style",data:{display:"none"}})}},{key:"sendAttachments",value:function(){if(!u.default.el.attachmentLink().classList.contains("-loading")){var e=u.default.el.attachmentInput().files;e.length&&(u.default.el.attachmentLink().classList.add("-loading"),this.filesBuffer={files:e,pointer:0},this.uploadFile())}}},{key:"uploadFile",value:function(){if(this.filesBuffer){var e=this.clientInfo.cache.messages,t=this.isEnableAutoFeedback(),s=this.filesBuffer.files.length>5?5:this.filesBuffer.files.length;if(this.filesBuffer.pointer<s){var a=this.filesBuffer.files[this.filesBuffer.pointer];if(a&&a.size<20971520){var n=this,i=new FormData,o=new XMLHttpRequest;i.append("chatId",encodeURIComponent(this.chatId)),i.append("clientId",encodeURIComponent(this.clientId)),i.append("token",encodeURIComponent(this.token)),i.append("file",a),o.open("POST","".concat(c.default.url,"/upload"),!0),o.onload=function(){if(200===this.status)try{var s=JSON.parse(this.responseText).url,i={type:_,time:Date.now(),message:s,isFile:!0,fileName:a.name};n.logEventToAnalytics(c.default.analytics.actions.CLIENT_SENT_ONLINE_MESSAGE),e||n.saveCacheMessage({type:L,name:n.settings.name,time:Date.now(),internal:!0,message:n.settings.startMessage}),n.showFileFromClient(i),n.saveCacheMessage(i),n.send(A,{name:a.name,url:s,size:a.size}),t&&n.autoFeedback(n.isNew),n.isNew=!1,!n.settings.welcomeForm||void 0!==e&&2!==e.length||setTimeout(function(){n.showWelcomeForm()},600),setTimeout(function(){n.filesBuffer.pointer+=1,n.uploadFile()},500)}catch(o){console.error(o),u.default.el.attachmentLink().classList.remove("-loading")}else 422===this.status?n.constructor.showInfoMessage(n.translation.FORM.ERROR_FILE_MAX_FILE_SIZE.replace("{size}","20"),!0,u.default.errors.uploadError):429===this.status?n.constructor.showInfoMessage(n.translation.FORM.ERROR_FILES_LIMIT,!0):n.constructor.showInfoMessage(n.translation.FORM.ERROR,!0),n.filesBuffer.pointer+=1,n.uploadFile()},o.send(i)}else{var l="".concat(this.translation.FORM.ERROR_FILE_NOT_UPLOADED.replace("{filename}",a.name),".").concat(this.translation.FORM.ERROR_FILE_MAX_FILE_SIZE.replace("{size}","20"));this.constructor.showInfoMessage(l,!0,u.default.errors.uploadError),this.filesBuffer.pointer+=1,this.uploadFile()}}else this.filesBuffer.files.length>5&&this.constructor.showInfoMessage(this.translation.FORM.ERROR_MAX_FILES_NUM.replace("{size}","5"),!0),delete this.filesBuffer,u.default.el.attachmentLink().classList.remove("-loading"),u.default.el.attachmentForm().reset(),u.default.removeUploadErrors()}}},{key:"renderSuggests",value:function(e){var t=u.default.createSuggests(e,this.getUsedSuggests());return""!==t&&(u.default.el.messagesBlock().insertAdjacentHTML("beforeend",t),u.default.el.suggests=document.querySelector(".ctc__suggests"),!0)}}],[{key:"showReturnMessage",value:function(e){u.default.el.returnNotification().innerHTML=e,u.default.el.returnNotification().classList.add("_active")}},{key:"addExternalScript",value:function(e){var t=document.createElement("script");t.async=!0,t.src=e;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}},{key:"onErrorConnection",value:function(e){console.error(e)}},{key:"buildFileLink",value:function(e,t){return'<a href="'.concat(e,'" target="_blank" rel="nofollow noopener">').concat(t,"</a>")}},{key:"handleDragover",value:function(e){e.preventDefault()}},{key:"handleDragenter",value:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy",u.default.el.dropFilesBlock().classList.add("-active")}},{key:"handleDragleave",value:function(e){e.preventDefault(),u.default.el.dropFilesBlock().classList.remove("-active")}},{key:"handleDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files;u.default.el.attachmentInput().files=t,u.default.el.attachmentInput().onchange(),u.default.el.dropFilesBlock().classList.remove("-active")}},{key:"disableControls",value:function(){u.default.el.buttonMessage().disabled=!0;var e=u.default.el.textMessage();e.style.opacity="0.3",e.readOnly=!0}},{key:"enableControls",value:function(){u.default.el.buttonMessage().disabled=!1;var e=u.default.el.textMessage();e.style.opacity="1",e.readOnly=!1}},{key:"isShowWidgetMessage",value:function(){return"block"===u.default.el.widgetMessage().style.display}},{key:"setCountUnreaded",value:function(t){u.default.el.unreadedCount().innerHTML=t,e.default.update(c.default.storageCacheKey,{unreadedCount:t})}},{key:"countMessages",value:function(){return u.default.el.messages().length}},{key:"showInfoMessage",value:function(e,t,s){var a=u.default.createInfoMessage(e,t,s);u.default.el.messagesBlock().insertAdjacentHTML("beforeend",a),u.default.autoTextAreaScroll()}},{key:"renderMessage",value:function(e){u.default.el.messagesBlock().insertAdjacentHTML("beforeend",e),u.default.autoTextAreaScroll()}},{key:"renderFirstMessage",value:function(e){u.default.el.messagesBlock().insertAdjacentHTML("afterbegin",e),u.default.autoTextAreaScroll()}}]),h}(),x=D;exports.default=x;
},{"../cache":"Lqfu","../helpers/template":"e5D2","../helpers/hostCommand":"SlVz","../helpers/htmlEncode":"qCvq","../helpers/deviceDetect":"nBhu","../helpers/formatDateTime":"kH3q","../helpers/linkify":"TXQ/","../helpers/diffDate":"+Fja","../helpers/convertScheduleToLocalTime":"RvpT","../config/app":"xSlG","../dom":"fRxd","../sound/notification.mp3":"+YIT","_bundle_loader":"21/1","../locales/ru.js":[["ru.41de2483.js","Kj/Q"],"ru.41de2483.map","Kj/Q"],"../locales/ua.js":[["ua.de859980.js","+zYU"],"ua.de859980.map","+zYU"],"../locales/es.js":[["es.e0f48330.js","HKIE"],"es.e0f48330.map","HKIE"],"../locales/pt.js":[["pt.da9063a5.js","g3ef"],"pt.da9063a5.map","g3ef"],"../locales/de.js":[["de.05e7889c.js","Er0U"],"de.05e7889c.map","Er0U"],"../locales/id.js":[["id.7193381a.js","X6NF"],"id.7193381a.map","X6NF"],"../locales/uz.js":[["uz.72f3abc2.js","lXcf"],"uz.72f3abc2.map","lXcf"],"../locales/it.js":[["it.86903b92.js","OPSy"],"it.86903b92.map","OPSy"],"../locales/pl.js":[["pl.f8a42f20.js","g8ep"],"pl.f8a42f20.map","g8ep"],"../locales/ar.js":[["ar.ed26c09b.js","Awh3"],"ar.ed26c09b.map","Awh3"],"../locales/fa.js":[["fa.617d590c.js","VAvT"],"fa.617d590c.map","VAvT"],"../locales/cs.js":[["cs.47bae078.js","8sCM"],"cs.47bae078.map","8sCM"],"../locales/hi.js":[["hi.46fec9ec.js","puJj"],"hi.46fec9ec.map","puJj"],"../locales/fr.js":[["fr.ff5a0ec2.js","psR7"],"fr.ff5a0ec2.map","psR7"],"../locales/en.js":[["en.19b1b614.js","CFpv"],"en.19b1b614.map","CFpv"]}],"Focm":[function(require,module,exports) {
"use strict";require("core-js/es6/promise"),require("core-js/fn/promise"),require("core-js/fn/object/assign");var e=r(require("./models/Chat")),a=r(require("./cache")),t=r(require("./config/app"));function r(e){return e&&e.__esModule?e:{default:e}}var i=null;function n(r){var n=r.chatId,s=r.clientInfo,c=r.customButtons;a.default.init(t.default.storageCacheKey,s.cache),(i=new e.default(n,s,c)).create()}window.addEventListener("message",function(e){var a=null,t={};try{var r=JSON.parse(e.data);a=r.cmd,t=r.data}catch(s){console.warn("Re:plain: Skip event from",e.origin,e.data)}if(a)switch(a){case"init":n(t);break;case"resize":i&&i.updateWindowSize(t);break;case"visibilityChanged":i&&i.visibilityChanged(t);break;case"api":i&&i.callAPI(t);break;case"getBanners":i&&i.getBanners();break;case"updateCache":i&&i.updateCache(t)}}),document.addEventListener("DOMContentLoaded",function(){window.parent.postMessage(JSON.stringify({cmd:"created"}),"*")});
},{"core-js/es6/promise":"uTu+","core-js/fn/promise":"Jonh","core-js/fn/object/assign":"QPOP","./models/Chat":"H+le","./cache":"Lqfu","./config/app":"xSlG"}],"Yi9z":[function(require,module,exports) {
module.exports=function(n){return new Promise(function(e,o){var r=document.createElement("script");r.async=!0,r.type="text/javascript",r.charset="utf-8",r.src=n,r.onerror=function(n){r.onerror=r.onload=null,o(n)},r.onload=function(){r.onerror=r.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(r)})};
},{}],0:[function(require,module,exports) {
var b=require("21/1");b.register("js",require("Yi9z"));
},{}]},{},[0,"Focm"], null)
//# sourceMappingURL=widget.90f893ff.map